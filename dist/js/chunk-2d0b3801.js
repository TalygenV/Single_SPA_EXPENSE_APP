(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b3801"],{2948:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("tg-list",{attrs:{listType:["List"],IsShowAction:"false",ModuleName:"ExpenseApproval",SubModuleCode:"ExpenseApproval",IdentityColumn:"expense_id",HeaderText:e.$t("Expense"),ListData:e.ExpenseApprovalData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,ListDataCallBackFunction:e.FetchData,LegendArray:e.LegendArray,SortExp:e.SortExp,SortBy:e.SortBy},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["Status"==a.column.COLUMN_NAME?[t("a",{staticClass:"inactive-disabled"},["SentForCorrection"!=a.row.Status?t("span",{class:e.getStatusClass(a.row.Status,"Status")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")]):e._e(),"SentForCorrection"==a.row.Status?t("span",{class:e.getStatusClass(a.row.Status,"Status")},[e._v(" "+e._s(e.$t("SentForCorrection"))+" ")]):e._e()])]:e._e(),"Amount"==a.column.COLUMN_NAME?[e._v(" "+e._s(e.convertDecimalValueInFormat(a.row.Amount)+" "+a.row.ISO_CODE)+" ")]:e._e(),"Comment"==a.column.COLUMN_NAME?[t("a",{staticClass:"viewcomment commenticon enable ml-3",attrs:{href:"javascript:void(0);",title:""},on:{click:function(t){return e.openAddNewEvent(a.row.EXPENSEID)}}},[t("i",{staticClass:"fa fa-comment-o text-dark action-icon"}),t("span",{staticClass:"noti-circle noti-blue text-center"},[e._v(e._s(a.row.COMMENTSCOUNT))])])]:e._e()]}}])}),e.showCommentModal?t("ExpenseComments",{attrs:{expenseid:e.expid,CommentHeader:e.CommentHeader,isSingleCommentforMultipleExpenses:e.isSingleCommentforMultipleExpenses,statuscode:e.statuscode},on:{CloseExpenseComments:function(t){return e.CloseExpenseComments()},fetchdata:function(t){return e.fetchdata()}}}):e._e()],1)},n=[],s=(a("14d9"),a("9769"));let i=[{fieldName:"DATE",fieldType:"date-range",fieldIcon:"fa-calendar",fieldSearchConditionName:["expense_date|expense_date"],isSearch:!1,datePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:!1,maxDate:!1,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:!1,maxDate:!1,widgetPositioning:{horizontal:"right",vertical:"bottom"}},value:"",secondValue:"",listOptions:[]},{fieldName:"Project",fieldType:"ddl-check",fieldIcon:"fa-file",fieldSearchConditionName:["PRO.project_id"],isSearch:!1,value:"",listOptions:[]},{fieldName:"User",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["U.user_id"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Status",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["STATUS_CODE"],isSearch:!1,value:"",listOptions:[{value:"EXP_APPROVED",name:"Approved"},{value:"EXP_REJECTED",name:"Rejected"},{value:"EXP_SEND_FOR_CORRECTION",name:"Send For Correction"}]}],r=[{title:"BacktoList",iconClass:"fa fa-angle-double-left",callbackfunction:"backtolist",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}];function l(e,t,a,o){var n=e;let i={};i["type"]=t,i["IsEncrptedId"]=a,i["moduleName"]=o,"Project"==t&&s["a"].ExpenseGetProjectListing(i).then((function(e){var t=e.data;if(null!=t)return t.forEach((function(e,t){let a={name:e.name,value:""+e.value};n.leftSearchFields[1].listOptions.push(a)})),n.$parent.ExpenseGetProjectList=t})),"User"==t&&s["a"].ExpenseGetUserListing(i).then((function(e){var t=e.data;if(null!=t)return t.forEach((function(e,t){let a={name:e.name,value:""+e.value};n.leftSearchFields[2].listOptions.push(a)})),n.$parent.ExpenseGetUserList=t}))}var c={buttons:r,leftsearchSchema:i,bindleftCommonSearchdropdown:l},d=a("9d1d"),u=a("2aeb"),p={components:{ExpenseComments:d["a"],TgList:u["a"]},data(){return{Headers:[{COLUMN_NAME:"Date",DATA_TYPE:"date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Date",DISPLAY_ORDER:1},{COLUMN_NAME:"Title",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Title",DISPLAY_ORDER:2},{COLUMN_NAME:"UserName",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"UserName",DISPLAY_ORDER:3},{COLUMN_NAME:"Category",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Category",DISPLAY_ORDER:4},{COLUMN_NAME:"TRIP",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Trip",DISPLAY_ORDER:5},{COLUMN_NAME:"Project",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Project",DISPLAY_ORDER:6},{COLUMN_NAME:"Amount",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Amount",DISPLAY_ORDER:7,settings:{isInSlot:!0}},{COLUMN_NAME:"Status",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:8,settings:{isInSlot:!0}},{COLUMN_NAME:"Comment",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Comment",DISPLAY_ORDER:9,settings:{isInSlot:!0,clickEvent:this.clickEventOfColumn}}],widgets:[],listheaderbuttons:c.buttons,leftSearchFields:c.leftsearchSchema,searchCondition:"",TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",noRecord:!1,CurrentPage:1,TotalPages:0,ExpenseApprovalData:null,CommentHeader:null,isSingleCommentforMultipleExpenses:null,showCommentModal:null,statuscode:null,expid:null,LegendArray:[],isLoading:!1}},created:function(){var e=this;e.FetchData(),e.LegendArray=[],c.bindleftCommonSearchdropdown(e,"Project","no",""),c.bindleftCommonSearchdropdown(e,"User","","EXPENSEAPPROVAL"),e.LegendArray=[{class:"legend-pending colorboxsquare",text:e.$t("Overridable",["History"])},{class:"legends_medium colorboxsquare",text:e.$t("Forcible",["History"])}]},updated:function(){this.BindActionButtonEvent(),this.SetScrolbar("dark-thick","","filterscroll_leftsearch")},methods:{getStatusClass:function(e,t){var a="";if("Status"==t){switch(e){case"Active":case"Approved":a="px-2 bg-success text-center text-white d-block";break;case"Inactive":case"Closed":case"Cancelled":case"Rejected":a="px-2 bg-danger text-center text-white d-block";break;case"Approval Pending":case"Partially Approved":a="px-2 bg-info text-center text-white d-block";break;case"Received":case"Partially Received":a="px-2 bg-secondary text-white text-center d-block";break;case"Draft":a="px-2 bg-warning text-center text-white d-block";break;case"No Gin":a="px-2 bg-primary text-center text-white d-block";break;default:a="px-2 bg-secondary text-center text-white d-block"}return a}},getRequestParams:function(e,t,a,o,n,s){let i={};return o&&(i["pageNumber"]=o),s&&(i["searchcondition"]=s),n&&(i["isPaged"]=n),e&&(i["sortBy"]=e),t&&(i["sortExp"]=t),a&&(i["pageSize"]=a),i},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"backtolist":this.GoBack();break}},GoBack:function(){this.$router.push({name:"ExpenseApproval"})},openAddNewEvent:function(e){this.CommentHeader="Comment",this.isSingleCommentforMultipleExpenses=0,this.showCommentModal=!0,this.statuscode="History",this.expid=e},CloseExpenseComments:function(){this.showCommentModal=!1},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchData()},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},sortdata:function(e){var t="sort tb_headerSortDown";this.SortBy=e,e===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",t="sort tb_headerSortUp"):(this.SortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),$("#"+e+"  span:first-child").attr("class",t)},FetchData:function(){const e=this.getRequestParams(this.sortBy,this.sortExp,this.pageSize,this.pageNumber,this.isPaged,this.searchcondition);var t=this;t.isLoading=!0,e.pageSize=t.PageSize,e.pageNumber=t.PageNumber,e.searchCondition=t.searchCondition,t.PageNumber?e.pageNumber=t.PageNumber:t.PageNumber=e.pageNumber=1,"undefined"!=typeof t.isPaged?e.isPaged=t.isPaged:t.isPaged=e.isPaged=1,e.isPaged=t.isPaged,e.sortBy=t.SortBy,e.sortExp=t.SortExp,s["a"].ExpenseApprovalHistory(e).then((function(e){t.isLoading=!0,null!=e.data?e.data.data.length>0?(t.ExpenseApprovalData=[],t.ExpenseApprovalData=e.data.data,t.TotalRecords=e.data.data[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1,t.ExpenseApprovaHistorylData=!0):(t.noRecord=!0,t.ExpenseApprovalData=[],t.TotalRecords=0):(t.noRecord=!0,t.ExpenseApprovalData=[],t.Headers=[],t.TotalRecords=0),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),t.isLoading=!1}))}}},h=p,m=a("2877"),S=Object(m["a"])(h,o,n,!1,null,null,null);t["default"]=S.exports}}]);
//# sourceMappingURL=chunk-2d0b3801.js.map