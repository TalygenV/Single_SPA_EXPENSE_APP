(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Expense"],{"04cb":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".multiselect{min-width:200px;border-radius:0!important;color:#303030!important;border-color:#abb5bf!important;min-height:28px;font-size:14px}.multiselect-dropdown>.multiselect-no-options{display:none}.multiselect__select:before{color:#000;border-color:#0e0e0e transparent transparent}.multiselect.is-invalid div.multiselect__tags{padding-top:0}.multiselect.is-invalid .multiselect__input{min-height:32px;padding-left:0}.multiselect__tags{min-height:36px;padding:8px 40px 0 8px;border-radius:0;border:1px solid #abb5bf}.multiselect__single{font-size:14px;margin-bottom:6px}.multiselect__placeholder{color:#515058;margin-bottom:6px;padding-top:0}.multiselect__input{margin-bottom:1px;min-height:auto;line-height:normal;font-size:14px}",""]),e.exports=t},"05a5":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"theme-primary partition"},[e.header?t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.GetLocalizedValue(e.header)))]):e._e()])]),e.showExpenseContent()?t("div",{staticClass:"pt-2 mb-1 w-100 d-none d-lg-block"},[e._m(0)]):e._e(),e.showExpenseContent()?t("div",{staticClass:"mt-2",staticStyle:{"max-height":"700px"},attrs:{id:"divscrollsetuptabs"}},[t("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix lefttabflexible",attrs:{id:"upper",role:"tablist"}},e._l(e.Fields,(function(a){return t("li",[t("a",{staticClass:"nav-link left-menu",attrs:{"data-toggle":"tab",href:a.href,id:a.id,privilege:a.privilege},on:{click:function(t){return e.setActiveKey(a)}}},[t("i",{class:a.fieldIcon,attrs:{"aria-hidden":"true"}}),e._v("   "+e._s(e.GetLocalizedValue(a.fieldName))+" ")])])})),0)]):e._e(),e.showExpenseContent()?e._e():t("div",{staticClass:"accordion md-accordion left-filter mt-2",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header filter-head",attrs:{role:"tab",id:"headingOne1"}},[t("h5",{staticClass:"mb-0"},[t("em",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.GetLocalizedValue(e.$t("Search")))+" "),t("span",{staticClass:"expand_all_filters"},[t("span",{attrs:{id:"SearchData"},on:{click:function(t){return e.SearchData()}}},[t("a",{staticClass:"collapsed",attrs:{href:"javascript:;",title:e.$t("Search"),"data-toggle-tooltip":"tooltip"}},[t("em",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])]),t("span",{on:{click:function(t){return e.ClearFilter()}}},[t("a",{staticClass:"collapsed",attrs:{title:e.$t("Reset"),href:"javascript:;","data-toggle-tooltip":"tooltip"}},[t("em",{staticClass:"fa fa-repeat",attrs:{"aria-hidden":"true"}})])]),t("span",{staticClass:"collapsed",attrs:{"data-target":".multi-collapse","data-toggle":"collapse"},on:{click:function(t){return e.ExpandCollapsedAll()}}},[t("a",{staticClass:"collapsed",attrs:{href:"javascript:;",title:e.$t("ExpandAllCollapseAll"),"data-toggle-tooltip":"tooltip"}},[t("em",{staticClass:"fa fa-sort-desc",attrs:{"aria-hidden":"true"}})])])])])])]),t("div",{staticClass:"card-panel"},e._l(e.Fields,(function(a,s){return t("div",{key:s,staticClass:"card"},[t("div",{staticClass:"card-header",attrs:{role:"tab",id:"headingOnee"+s}},[t("h5",{staticClass:"mb-0"},[t("a",{staticClass:"collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx",href:"#collapseOne"+s,"aria-expanded":"false","aria-controls":"collapseOne"+s}},[t("em",{class:"fa "+a.fieldIcon,attrs:{"aria-hidden":"true"}}),t("span",{class:{filter:a.isSearch}},[e._v(e._s(e.GetLocalizedValue(a.fieldName)))]),t("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})]),t("a",{class:{"tab-Search-btn":!0,"d-block":a.value.length>0},attrs:{href:"javascript:;"},on:{click:function(t){return e.SearchData()}}},[t("em",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])])]),t("div",{staticClass:"collapse multi-collapse",attrs:{id:"collapseOne"+s,role:"tabpanel","aria-labelledby":"headingOnee"+s,"data-parent":"#accordionEx"}},[t("div",{staticClass:"card-body pt-0"},["text"==a.fieldType?t("div",{staticClass:"form-group"},["checkbox"===(1==a.isNumeric?"number":"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"form-control search",attrs:{placeholder:a.fieldName+" ",type:"checkbox"},domProps:{checked:Array.isArray(a.value)?e._i(a.value,null)>-1:a.value},on:{keydown:function(t){return e.SearchOnEnter(t,a)},change:function(t){var s=a.value,i=t.target,n=!!i.checked;if(Array.isArray(s)){var o=null,l=e._i(s,o);i.checked?l<0&&e.$set(a,"value",s.concat([o])):l>-1&&e.$set(a,"value",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(a,"value",n)}}}):"radio"===(1==a.isNumeric?"number":"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"form-control search",attrs:{placeholder:a.fieldName+" ",type:"radio"},domProps:{checked:e._q(a.value,null)},on:{keydown:function(t){return e.SearchOnEnter(t,a)},change:function(t){return e.$set(a,"value",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"form-control search",attrs:{placeholder:a.fieldName+" ",type:1==a.isNumeric?"number":"text"},domProps:{value:a.value},on:{keydown:function(t){return e.SearchOnEnter(t,a)},input:function(t){t.target.composing||e.$set(a,"value",t.target.value)}}})]):e._e(),"date"==a.fieldType||"date-range"==a.fieldType?t("div",{staticClass:"form-group"},[t("div",{class:{"input-group":!0,"mb-2":"date-range"==a.fieldType}},[t("v-date-picker",{staticClass:"input-group",attrs:{popover:e.popover,"model-config":e.modelConfig,"minute-increment":5,name:"DateFrom"+s,change:e.SetMinMaxValueForDatePicker(a,"datefrom"),"max-date":a.datePickerConfig.maxDate},scopedSlots:e._u([{key:"default",fn:function({inputValue:s,inputEvents:i,togglePopover:n}){return[t("input",e._g({staticClass:"form-control",attrs:{placeholder:"date-range"==a.fieldType?e.$t("DateFrom"):a.fieldName},domProps:{value:s}},i)),t("div",{staticClass:"input-group-append",on:{click:function(e){return n()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"field.value"}})],1),"date-range"==a.fieldType?t("div",{class:{"input-group":!0,disabled:!a.secondDatePickerConfig.minDate}},[t("v-date-picker",{staticClass:"input-group",attrs:{popover:e.popover,"model-config":e.modelConfig,"minute-increment":5,name:"DateTo"+s,change:e.SetMinMaxValueForDatePicker(a,"dateto"),"min-date":a.secondDatePickerConfig.minDate},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({staticClass:"form-control",attrs:{placeholder:e.$t("DateTo")},domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.secondValue,callback:function(t){e.$set(a,"secondValue",t)},expression:"field.secondValue"}})],1):e._e()]):e._e(),"radio"==a.fieldType||"checkbox"==a.fieldType?t("div",{staticClass:"form-group"},e._l(a.listOptions,(function(i,n){return t("div",{key:n,class:{"custom-control w-auto custom-control-inline":!0,"custom-radio":"radio"==a.fieldType,"custom-checkbox":"checkbox"==a.fieldType}},["radio"==a.fieldType?t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customcheckbox"+s+n,name:"selectedDealOwner"},domProps:{value:i.value,checked:e._q(a.value,i.value)},on:{change:function(t){return e.$set(a,"value",i.value)}}}):e._e(),"checkbox"==a.fieldType?t("input",{staticClass:"custom-control-input dynamic",attrs:{type:"checkbox",id:"customcheckbox"+s+n,name:"selectedDealOwner"},domProps:{checked:e.CheckIfSelected(a,i.value),value:i.value},on:{change:function(t){return e.UpdateCheckedValues(a,i.value,t)}}}):e._e(),t("label",{staticClass:"custom-control-label",attrs:{for:"customcheckbox"+s+n}},[e._v(e._s(i.name))])])})),0):e._e(),"ddl-radio"==a.fieldType||"ddl-check"==a.fieldType?t("div",{staticClass:"form-group"},[t("vue-scroll",[t("div",{staticClass:"w-100 d-flex flex-wrap filterscroll filterscroll_leftsearch"},e._l(a.listOptions,(function(i,n){return t("button",{key:n,class:{"btn search-tag searchtagfloat float-left":!0,"d-none":e.CheckValueSelectedForbadge(i.value,a.value,a.isSearch)},attrs:{type:"button"}},[t("span",{staticClass:"tag-name"},[e._v(e._s(i.name))]),t("span",{staticClass:"badge text-dark",on:{click:function(t){return e.ClearFilerForbadge(i.value,a,s)}}},[e._v("×")])])})),0)]),t("div",{staticClass:"w-100"},[t("div",{staticClass:"p-0 mb-1 w-100"},[t("div",{staticClass:"input-group customsearchbox"},[t("input",{staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",Placeholder:e.$t("Search"),autocomplete:"off"}}),e._m(1,!0)])]),t("vue-scroll",[t("div",{staticClass:"form-group filterscroll filterscroll_leftsearch",staticStyle:{"max-height":"200px"}},["ddl-check"==a.fieldType?t("div",{staticClass:"custom-control custom-checkbox custom-control-inline w-100"},[t("input",{staticClass:"custom-control-input dynamic customcheckboxselectall",attrs:{id:"customcheckboxselectall"+s,type:"checkbox"},on:{change:function(t){return e.SelectAllRecords(a,t)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"customcheckboxselectall"+s,type:"checkbox"}},[e._v("Select All")])]):e._e(),e._l(a.listOptions,(function(i,n){return t("div",{key:n,class:{"custom-control custom-checkbox custom-control-inline w-100":!0,"custom-radio":"ddl-radio"==a.fieldType,"custom-checkbox":"ddl-check"==a.fieldType}},["ddl-radio"==a.fieldType?t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customcheckbox"+s+n,name:"selectedDealOwner"},domProps:{value:i.value,checked:e._q(a.value,i.value)},on:{change:function(t){return e.$set(a,"value",i.value)}}}):e._e(),"ddl-check"==a.fieldType?t("input",{staticClass:"custom-control-input dynamic",attrs:{type:"checkbox",id:"customcheckbox"+s+n,name:"selectedDealOwner"},domProps:{checked:e.CheckIfSelected(a,i.value),value:i.value},on:{change:function(t){return e.UpdateCheckedValues(a,i.value,t,"customcheckboxselectall"+s)}}}):e._e(),t("label",{staticClass:"custom-control-label",attrs:{for:"customcheckbox"+s+n}},[e._v(e._s(i.name))])])}))],2)])],1)],1):e._e()])])])})),0)]),e.showExpenseContent()?e._e():t("div",{staticClass:"bottom_filter_button",on:{click:e.ExpandAllCollapseAll}},[t("a",{staticClass:"collapsed",attrs:{href:"javascript:;","data-target":".multi-collapse","data-toggle":"collapse"},on:{click:e.ExpandCollapsedAll}},[e._v(e._s(e.$t("ExpandAllCollapseAll")))])])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group customsearchbox"},[t("input",{staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",maxlength:"50",placeholder:"Search by Name",autocomplete:"off"}}),t("div",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"},[t("i",{staticClass:"fa fa-search"})])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"},[t("em",{staticClass:"fa fa-search"})])])}],n=(a("14d9"),a("c1df")),o=a.n(n),l={props:{fields:{type:Array,required:!0},header:{type:String,required:!0},modulename:{type:String,required:!0},for:{type:String,required:!1}},data:function(){return{Fields:this.fields,popover:{visibility:"click"},modelConfig:{type:"string",mask:"YYYY-MM-DD"}}},watch:{fields:function(e){this.Fields=null!=e&&e.length>0?e:[]}},created:function(){},methods:{showExpenseContent(){return"ExpenseReport"==this.for},isBlank:function(e){return!e||/^\s*$/.test(e)},GetLocalizedValue:function(e,t){try{if(this.isBlank(t)){var a=this.$t(String(e).toUpperCase());return a!=String(e).toUpperCase()?a:(a=this.$t(String(e)),a||1==/^\s*$/.test(a)?a:e)}a=this.$t(String(t).toUpperCase());return a!=String(t).toUpperCase()?a:(a=this.$t(String(t)),a||1==/^\s*$/.test(a)?a:t)}catch(s){console.log(s)}},ExpandCollapsedAll:function(){},ClearFilter:function(){$.each(this.Fields,(function(e,t){t.isSearch=!1,t.value="",t.secondValue="","ddl-check"==t.fieldType&&$("#customcheckboxselectall"+e).prop("checked",!1),$(".tab-Search-btn").css("display","none")})),$(".searchcustomfilter").val(""),$(".searchcustomfilter").trigger("keyup"),this.SearchData()},CheckValueSelectedForbadge:function(e,t,a){var s=t.split(",");return!s.includes(e)||1!=a},ClearFilerForbadge:function(e,t,a){var s=t.value.split(","),i=s.indexOf(e);s.splice(i,1),t.value=s.join(",");try{"ddl-check"==t.fieldType&&(t.value.split(",").length==t.listOptions.length?$("#customcheckboxselectall"+a).prop("checked",!0):$("#customcheckboxselectall"+a).prop("checked",!1))}catch(n){}this.SearchData()},UpdateCheckedValues:function(e,t,a,s){if(1==a.target.checked)if(""!=e.value){var i=e.value.split(",");i.push(t),e.value=i.join(",")}else e.value=t;else{i=e.value.split(",");var n=i.indexOf(t);i.splice(n,1),e.value=i.join(",")}try{e.value.split(",").length==e.listOptions.length?$("#"+s).prop("checked",!0):$("#"+s).prop("checked",!1)}catch(o){}},CheckIfSelected:function(e,t){var a=e.value.split(","),s=a.indexOf(t);return s>-1},SetMinMaxValueForDatePicker:function(e,t){if("date-range"==e.fieldType)if("datefrom"==t&&null!=e.value&&""!=e.value){var a=o()(e.value,e.datePickerConfig.format);e.secondDatePickerConfig.minDate=new Date(a)}else if("dateto"==t&&null!=e.secondValue&&""!=e.secondValue){a=o()(e.secondValue,e.secondDatePickerConfig.format);e.datePickerConfig.maxDate=new Date(a)}},SearchData:function(){var e=this,t="";"CRM"!=e.modulename&&"HR"!=e.modulename&&"Expenses"!=e.modulename&&"FSM"!=e.modulename&&"ExpenseApproval"!=e.modulename||$.each(e.Fields,(function(a,s){switch(s.fieldType){case"text":if(s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";var i="",n=s.value.replace(/'/g,"''");s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" "+e+" LIKE '%"+n+"%'"}));var l="";s.fieldSearchConditionName.length>1&&(l="/CRM/ContactListing"==e.$route.path?" OR "+s.fieldSearchConditionName.join(" %2B ' ' %2B ")+" LIKE '%"+n+"%'":" OR "+s.fieldSearchConditionName.join("+' '+")+" LIKE '%"+n+"%'"),i+=l+")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"ddl-radio":case"radio":if(s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" "+e+" = '"+s.value+"'"})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"ddl-check":case"checkbox":if(s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";var r=s.value.split(","),c="'"+r.join("','")+"'";s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" "+e+" in ("+c+")"})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"date":if(null!=s.value&&s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";var d=o()(s.value,s.datePickerConfig.format),u=d.format("YYYY-MM-DD");s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" CONVERT(DATE, "+e+") = '"+u+"'"})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"date-range":if((null!=s.value&&s.value.length>0||null!=s.secondValue&&s.secondValue.length>0)&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(";var t=e.split("|"),a="";if(null!=s.value&&s.value.length>0){let e=o()(s.value,s.datePickerConfig.format),i=e.format("YYYY-MM-DD");a=" CONVERT(DATE, "+t[0]+") >= '"+i+"'"}if(null!=s.secondValue&&s.secondValue.length>0){let e=o()(s.secondValue,s.secondDatePickerConfig.format),i=e.format("YYYY-MM-DD");a+=""!=$.trim(a)?" AND ":"",a+=" CONVERT(DATE, "+t[1]+") <= '"+i+"'"}i+=a})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break}})),this.$emit("SetLeftSearch",{PageNumber:1,searchCondition:t})},SearchOnEnter:function(e,t){void 0!=t.isNumeric&&1==t.isNumeric&&0==/[0-9]/.test(e.key)&&"Backspace"!=e.key&&e.preventDefault(),13==e.keyCode&&this.SearchData()},SelectAllRecords:function(e,t){if(1==t.target.checked){var a="";e.listOptions.forEach((function(e){a+=""==a?e.value:","+e.value})),e.value=a}else e.value=""},setActiveKey(e){let t=1;switch(e.id){case"aExpenseOverLimitReport":t=1;break;case"aExpenseReport":t=2;break;case"aReimbursementReport":t=3;break;default:break}this.$emit("SetLeftSearch",t)}}},r=l,c=(a("8ab2"),a("2877")),d=Object(c["a"])(r,s,i,!1,null,null,null);t["a"]=d.exports},"0ecc":function(e,t,a){"use strict";a("f7f7")},"148d":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,"[data-popover=tooltip]{font-size:15px;line-height:1;margin:5px}",""]),e.exports=t},"1a19":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".__bar-is-horizontal,.__bar-is-vertical{background:#929292!important}",""]),e.exports=t},"20ad":function(e,t,a){var s=a("6a63");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("33eb554c",s,!0,{sourceMap:!1,shadowMode:!1})},"2aeb":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",["undefined"!==typeof e.SearchPosition&&"left"!=e.SearchPosition||!e.SearchFields?e._e():t("div",{staticClass:"left-menu-tab",attrs:{id:"crmleftsearch"}},[t("leftsearch",{attrs:{header:e.HeaderText,fields:e.SearchFields,modulename:e.ModuleName},on:{SetLeftSearch:e.leftCommonSearch}})],1),t("div",{class:{"right-content":("undefined"===typeof e.SearchPosition||"left"==e.SearchPosition)&&e.SearchFields},attrs:{id:"crmrightsearch"}},[e.HeaderButtons?t("div",{staticClass:"col-md-12 p-0"},["CRM_LEADS"==e.SubModuleCode?t("list-header-buttonNew",{attrs:{icons:e.HeaderButtons,modulename:e.ModuleName,submodulecode:e.SubModuleCode},on:{RefreshManageView:e.RefreshManageView,ButtonClick:e.commonHeaderButtonClick}}):t("list-header-buttons",{attrs:{icons:e.HeaderButtons,listType:e.listType},on:{ButtonClick:e.commonHeaderButtonClick,ChangeViewEvent:e.ChangeViewEvent}})],1):e._e(),t("div",{staticClass:"py-2 d-inline-block"},[e._l(e.LegendArray,(function(a){return[t("span",{class:a.class}),e._v(e._s(a.text)+" ")]}))],2),t("div",{staticClass:"listing"},["undefined"===typeof e.SearchPosition||"left"==e.SearchPosition?t("div",{staticClass:"expand-list"},[t("a",{class:{"expand-list-btn justify-content-center align-items-center":!0,"filter-selected":e.IsFilterApplied},attrs:{href:"javascript:;"},on:{click:e.ExpandCollapseList}},[t("em",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])]):e._e(),e.ErrorText?t("div",{staticClass:"text-center text-danger"},[e._v(e._s(e.ErrorText))]):e._e(),e.ListData&&"List"==e.selectedView?t("DataTable",{attrs:{Data:e.ListData,noRecord:e.noRecord,Headers:e.HeaderData,SortExp:e.SortExp,SortBy:e.SortBy,totalrecords:e.TotalRecordsForPaging,IsShowAction:e.IsShowAction,renderRowActionMethod:e.RenderRowActionMethod,identityColumn:e.IdentityColumn,subModuleCode:e.SubModuleCode,CurrentPageNumber:e.CurrentPageNumber},on:{sortdata:e.sortdata,ButtonClick:e.actionButtonClick,PagerMethod:e.pagerMethod},scopedSlots:e._u([{key:"slotdata",fn:function({data:t}){return[e._t("slotdata",null,{data:{row:t.row,column:t.column}})]}}],null,!0)}):e._e(),e.ListData&&"Card"==e.selectedView?t("CardView",{attrs:{data:e.ListData,columns:e.HeaderData,totalrecords:e.TotalRecordsForPaging,customcard:e.IsShowCustomCard,IsShowAction:e.IsShowAction,identityColumn:e.IdentityColumn,subModuleCode:e.SubModuleCode,renderRowActionMethod:e.RenderRowActionMethod},on:{PagerMethod:e.pagerMethod,ButtonClick:e.actionButtonClick,EventOfCheckbox:e.onChangeEventOfCheckbox},scopedSlots:e._u([{key:"slotdata",fn:function({data:t}){return[e._t("slotdata",null,{data:{row:t.row,column:t.column,listtype:e.selectedView}})]}},{key:"customcard",fn:function({data:t}){return[e._t("customcard",null,{data:{row:t.row,columnlist:t.columnlist,onchangecheckbox:t.onchangecheckbox,listtype:e.selectedView}})]}}],null,!0)}):e._e(),e.ListData&&"Kanban"==e.selectedView?t("KanbanView",{attrs:{data:e.ListData,columns:e.HeaderData,totalrecords:e.TotalRecordsForPaging,customcard:e.IsShowCustomCard,IsShowAction:e.IsShowAction,identityColumn:e.IdentityColumn,subModuleCode:e.SubModuleCode,renderRowActionMethod:e.RenderRowActionMethod},on:{PagerMethod:e.pagerMethod,ButtonClick:e.actionButtonClick,EventOfCheckbox:e.onChangeEventOfCheckbox},scopedSlots:e._u([{key:"slotdata",fn:function({data:t}){return[e._t("slotdata",null,{data:{row:t.row,column:t.column,listtype:e.selectedView}})]}},{key:"customcard",fn:function({data:t}){return[e._t("customcard",null,{data:{row:t.row,columnlist:t.columnlist,onchangecheckbox:t.onchangecheckbox,listtype:e.selectedView}})]}}],null,!0)}):e._e()],1)])])},i=[],n=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tablelistingdata","aria-describedby":"datatable"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"50px !important"},attrs:{scope:"col"}},[t("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(t){return e.onChange()}}})]),e._l(e.Headers,(function(a,s){return[a.VISIBLE?t("th",{key:s,class:{"text-center":"CRM_BRANDS"==e.subModuleCode&&"Social"==a.COLUMN_NAME||"CRM_COMMUNICATION_MODES"==e.subModuleCode&&"status"==a.COLUMN_NAME},staticStyle:{"text-transform":"capitalize"},style:["status_name"==a.COLUMN_NAME?{width:"10%"}:{width:""}],attrs:{scope:"col",id:a.COLUMN_NAME}},[a.VISIBLE&&a.SORTABLE?t("span",{class:{sort:a.SORTABLE,tb_headerSortUp:"ASC"==e.SortExp&&e.SortBy==a.COLUMN_NAME,tb_headerSortDown:"DESC"==e.SortExp&&e.SortBy==a.COLUMN_NAME},on:{click:function(t){return e.sortdata(a.COLUMN_NAME)}}},[e._v(" "+e._s(e.$t(a.COLUMN_NAME,a.DISPLAY_NAME))+" ")]):e._e(),a.SORTABLE?e._e():t("span",[e._v(" "+e._s(e.$t(a.COLUMN_NAME,a.DISPLAY_NAME))+" ")])]):e._e()]})),"true"==e.IsShowAction?t("th",{staticClass:"nonresize text-center",attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("Action")))])]):e._e()],2)]),t("tbody",[e._l(e.Data,(function(a,s){return t("tr",{key:s,class:a.additionalClass},[t("td",{staticClass:"text-center"},[t("input",{staticClass:"chkItems",attrs:{disabled:a.isCheckBoxDisabled,type:"checkbox"},domProps:{value:a[e.identityColumn]},on:{change:function(t){return e.onChange()}}})]),e._l(e.Headers,(function(s,i){return[s.VISIBLE?t("td",{key:i,class:{"text-right":"decimal"==s.DATA_TYPE}},["date"!=s.DATA_TYPE&&"datetime"!=s.DATA_TYPE||"decimal"==s.DATA_TYPE?e._e():t("span",[e._v(e._s(e._f("formatDate")(a[s.COLUMN_NAME])))]),"decimal"==s.DATA_TYPE?t("span",[e._v(e._s(e._f("currency")(a[s.COLUMN_NAME])))]):e._e(),"date"!=s.DATA_TYPE&&"datetime"!=s.DATA_TYPE&&"decimal"!=s.DATA_TYPE?t("span",{attrs:{title:a[s.COLUMN_NAME]}},["undefined"!=typeof s.settings&&null!=s.settings&&"undefined"!=typeof s.settings.clickEvent&&null!=s.settings.clickEvent&&1!=s.settings.isInSlot?t("RouterLink",{attrs:{id:"viewLeadeContent_a",to:"undefined"!=typeof a.rowDetailsUrl?a.rowDetailsUrl:""},nativeOn:{click:function(t){return e.clickEventCheck(s,a)}}},[e._v(" "+e._s("function"===typeof s.settings.formatter?s.settings.formatter(a,s):e.TruncateStr(a[s.COLUMN_NAME],30))+" ")]):e._e(),"undefined"==typeof s.settings||null==s.settings||"undefined"!==typeof s.settings.clickEvent&&null!=s.settings.clickEvent||1==s.settings.isInSlot?e._e():t("span",{attrs:{title:a[s.COLUMN_NAME]}},[e._v(e._s("function"===typeof s.settings.formatter?s.settings.formatter(a,s):e.TruncateStr(a[s.COLUMN_NAME],30)))]),"undefined"===typeof s.settings||null==s.settings?t("span",{attrs:{title:a[s.COLUMN_NAME]}},[e._v(e._s(e.TruncateStr(a[s.COLUMN_NAME],30)))]):e._e(),"undefined"!=typeof s.settings&&null!=s.settings&&"undefined"!=typeof s.settings.isInSlot&&s.settings.isInSlot?e._t("slotdata",null,{data:{row:a,column:s}}):e._e()],2):e._e()]):e._e()]})),"true"==e.IsShowAction?t("RowActions",{attrs:{item:a,index:s,identityColumn:e.identityColumn,listActions:e.renderRowActionMethod(a)},on:{ButtonClick:e.ButtonClick}}):e._e()],2)})),e.noRecord?t("tr",[t("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"17"}},[e._v(e._s(e.$t("NoRecordfound")))])]):e._e()],2)])]),t("Pager",{attrs:{numberofrecords:e.TotalRecords,CurrentPageNumber:e.CurrentPageNumber,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"},on:{SetCurrentPage:e.pagerMethod}})],1)},o=[],l=function(){var e=this,t=e._self._c;return t("td",{staticClass:"text-center mobile-action"},[t("span",{staticClass:"actions mobileaction"},[t("em",{staticClass:"fa fa-ellipsis-h action_icon",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"action-list-box"},[t("span",{staticClass:"list-actions",attrs:{id:"action-list"}},[e._l(e.listActions,(function(a,s){return[a.isVisible&&"undefined"!=typeof a.callbackfunction?t("a",{key:s,staticClass:"actions-onclick",attrs:{typetitle:a.title,typefor:a.title,value:e.item[e.identityColumn],title:a.title},on:{click:function(t){return e.ClickEvent(a.callbackfunction,e.item,e.index,t)}}},[t("em",{class:a.icon}),t("span",{staticClass:"text"},[e._v(" "+e._s(a.title)+" "),t("span",{domProps:{innerHTML:e._s(e.replaceText(a.additionalSpan))}})])]):e._e(),a.isVisible&&"undefined"==typeof a.callbackfunction?t("RouterLink",{staticClass:"actions-onclick",attrs:{to:e.replaceText(a.href),title:e.$t(a.title)}},[t("em",{class:a.icon}),t("br"),t("span",{staticClass:"text"},[e._v(" "+e._s(e.$t(a.title)))])]):e._e()]})),t("em",{staticClass:"fa fa-times close close-action",attrs:{"aria-hidden":"true"}})],2)])])])},r=[],c=(a("14d9"),{props:{item:{type:Object,required:!0},listActions:{type:Array,required:!0},identityColumn:{type:String,required:!0},index:null},methods:{ClickEvent:function(e,t,a,s){this.$emit("ButtonClick",e,t,a,s)},replaceText:function(e){var t,a=this,s=[],i=/{([^}]+)}/g;while(t=i.exec(e))s.push(t[1]);return s.forEach(t=>{e=e.replace("{"+t+"}",""+a.item[t])}),e}}}),d=c,u=(a("75a3"),a("2877")),p=Object(u["a"])(d,l,r,!1,null,"a3403c3c",null),f=p.exports,m=function(){var e=this,t=e._self._c;return e.TotalPages>0?t("div",{staticClass:"nu-paging"},[t("nav",{attrs:{"aria-label":"Page navigation example col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"}},[t("ul",{staticClass:"pagination row"},[t("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left choose-page"},[t("span",{staticClass:"mr-2"},[e._v("Show")]),t("span",{staticClass:"select"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.PageSize,expression:"PageSize"}],staticClass:"form-control form-control-sm",attrs:{id:"pageSize",name:"pageSize"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.PageSize=t.target.multiple?a:a[0]},e.SetPageSize]}},e._l(e.PageSizeOption,(function(a,s){return t("option",{key:s,domProps:{value:a}},[e._v(e._s(a))])})),0)]),t("span",{staticClass:"ml-2"},[e._v(e._s(e.$t("PagingText",[(e.CurrentPage-1)*e.PageSize+1,e.PageSize*e.CurrentPage>e.TotalRecords?e.TotalRecords:e.PageSize*e.CurrentPage,e.TotalRecords])))])]),t("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e.TotalPages>1?t("ul",{staticClass:"paging-count"},[t("li",{staticClass:"page-item"},[1!=e.CurrentPage?t("a",{staticClass:"page-link first",attrs:{title:e.firstText,href:"javascript:;",val:"1"},on:{click:function(t){return e.SetCurrentPage(1)}}},[e._v(e._s(e.firstText))]):e._e(),1==e.CurrentPage?t("a",{staticClass:"page-link first disabled",attrs:{title:e.firstText,val:"1"}},[e._v(e._s(e.firstText))]):e._e()]),t("li",{staticClass:"page-item"},[1!=e.CurrentPage?t("a",{staticClass:"page-link previous",attrs:{title:e.prevText,href:"javascript:;"},on:{click:function(t){return e.SetCurrentPage(e.CurrentPage-1)}}},[e._v(e._s(e.prevText))]):e._e(),1==e.CurrentPage?t("a",{staticClass:"page-link previous disabled",attrs:{title:e.prevText}},[e._v(e._s(e.prevText))]):e._e()]),e._l(e.TotalPages,(function(a,s){return[a>=e.GroupStart&&a<=e.GroupEnd?t("li",{key:s,staticClass:"page-item"},[s+1==e.CurrentPage?t("a",{staticClass:"page-link active",attrs:{href:"javascript:;"}},[e._v(e._s(s+1))]):e._e(),s+1!=e.CurrentPage?t("a",{staticClass:"page-link",attrs:{href:"javascript:;",val:s},on:{click:function(t){return e.SetCurrentPage(s+1)}}},[e._v(e._s(s+1))]):e._e()]):e._e()]})),t("li",{staticClass:"page-item"},[e.CurrentPage<e.TotalPages?t("a",{staticClass:"page-link next",attrs:{title:e.nextText,href:"javascript:;"},on:{click:function(t){return e.SetCurrentPage(e.CurrentPage+1)}}},[e._v(e._s(e.nextText))]):e._e(),e.CurrentPage>=e.TotalPages?t("a",{staticClass:"page-link disabled next",attrs:{title:e.nextText}},[e._v(e._s(e.nextText))]):e._e()]),t("li",{staticClass:"page-item"},[e.CurrentPage!=e.TotalPages?t("a",{staticClass:"page-link next",attrs:{title:e.lastText,href:"javascript:;",val:e.TotalPages},on:{click:function(t){return e.SetCurrentPage(e.TotalPages)}}},[e._v(e._s(e.lastText))]):e._e(),e.CurrentPage==e.TotalPages?t("a",{staticClass:"page-link next disabled",attrs:{title:e.lastText,val:e.TotalPages}},[e._v(e._s(e.lastText))]):e._e()])],2):e._e()])])])]):e._e()},h=[],v={props:{numberofrecords:{type:Number,required:!0},prevText:{type:String,required:!0},nextText:{type:String,required:!0},firstText:{type:String,required:!0},lastText:{type:String,required:!0},callbackfunction:{type:Function},CurrentPageNumber:{type:Number}},data:function(){return{TotalRecords:0,PageNumber:1,PageSize:10,PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,LastPage:!1}},watch:{numberofrecords:function(e){this.CurrentPage>this.PageNumber&&(this.CurrentPage=this.PageNumber),this.TotalRecords=e,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3)},CurrentPageNumber:function(e){var t=this;t.CurrentPage=e,1==e&&t.SetCurrentPage(e)}},created:function(){this.GetPageSizeOption()},methods:{GetData:function(){this.$emit("SetCurrentPage",{PageNumber:this.PageNumber,PageSize:this.PageSize}),"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction&&this.callbackfunction()},SetPageSize:function(e){this.PageSize=e.target.value,this.PageNumber=1,this.CurrentPage=this.PageNumber,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetData()},SetCurrentPage:function(e){this.PageNumber=e,this.CurrentPage=e,this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3),this.GetData()},GetPageSizeOption:function(){for(var e=[],t=10,a=t;a<t+95;a+=5)e.push(a);this.PageSizeOption=e}}},C=v,g=Object(u["a"])(C,m,h,!1,null,null,null),_=g.exports,b=a("8c4f"),x={props:{Data:{type:Array,required:!0},Headers:null,IsShowAction:{type:String,required:!0},noRecord:{type:Boolean,required:!0},totalrecords:{type:Number,required:!0},renderRowActionMethod:{type:Function,required:!0},identityColumn:{type:String,required:!0},subModuleCode:{type:String,required:!0},CurrentPageNumber:{type:Number},SortExp:null,SortBy:null},components:{RowActions:f,Pager:_,RouterLink:b["a"]},watch:{totalrecords:function(e){this.TotalRecords=e}},data(){return{showActions:this.NewArray(100),Actions:[],TotalRecords:0}},methods:{clickEventCheck(e,t){"function"===typeof e.settings.clickEvent&&"undefined"===typeof t.rowDetailsUrl&&e.settings.clickEvent(t,e)},NewArray(e){for(var t=[],a=0;a<e;++a)t[a]={QuickView:"",View:"",Edit:"",Notes:"",FollowUps:"",Reopen:"",ConvertLead:""};return t},TruncateStr:function(e,t){var a=""+e;if(null!=a)return a.length<=t?e:a.substring(0,t)+"..."},conditions(e,t){var a=this;return this.Actions.forEach(s=>{switch(s.title){case"QuickView":case"View":case"Notes":a.showActions[t][s.title]=!0;break;case"Edit":a.showActions[t][s.title]=(a.isBlank(e.existing_client_id)||a.isBlank(e.project_id))&&"Closed"!=e.status_id&&"Cancelled"!=e.status_id;break;case"FollowUps":a.showActions[t][s.title]="Closed"!=e.status_id;break;case"Reopen":a.showActions[t][s.title]="Closed"==e.status_id;break;case"ConvertLead":a.showActions[t][s.title]=(a.isBlank(e.existing_client_id)||a.isBlank(e.project_id))&&"Closed"!=e.status_id&&"Inactive"!=e.status_id&&"Draft"!=e.status_id&&"Cancelled"!=e.status_id;break}}),this.Actions=this.listActions,a.showActions},isCRMShowStausDrop:function(e,t){return"Draft"!=e&&"Partially Received"!=e&&"Approved"!=e&&"Rejected"!=e&&"Received"!=e&&"Partially Approved"!=e&&"Partially Rejected"!=e&&"Approval Pending"!=e&&"In Stock"!=e&&"Cancelled"!=e&&("Closed"!=e||"CRM_LEADS"==t)},getStatusClass:function(e,t){var a="";if("status_id"==t||"status_name"==t||"gin_status"==t){switch(e){case"Active":case"Approved":a="px-2 bg-success text-center text-white d-block";break;case"Inactive":case"Closed":case"Cancelled":case"Rejected":a="px-2 bg-danger text-center text-white d-block";break;case"Approval Pending":case"Partially Approved":a="px-2 bg-info text-center text-white d-block";break;case"Received":case"Partially Received":a="px-2 bg-secondary text-white text-center d-block";break;case"Draft":a="px-2 bg-warning text-center text-white d-block";break;case"No Gin":a="px-2 bg-primary text-center text-white d-block";break;default:a="px-2 bg-secondary text-center text-white d-block"}return a}},sortdata:function(e){this.$emit("sortdata",e)},pagerMethod:function(e){this.$emit("PagerMethod",e)},isBlank:function(e){return!e||/^\s*$/.test(e)},ButtonClick:function(e,t,a,s){this.$emit("ButtonClick",e,t,a,s)},onChange:function(){var e=$(".chkItems:checked").not("[id^='chkAll']").length;e>0?($("#Sendbulkmail").removeClass("disabled"),$("#CloseLeadId").removeClass("disabled"),$("#ChangeOwnerId").removeClass("disabled"),$("#AdditionalOwnerId").removeClass("disabled"),$("#Inactive").removeClass("disabled"),$("#Active").removeClass("disabled"),$("#Reject").removeClass("disabled"),$("#Approve").removeClass("disabled")):($("#Sendbulkmail").addClass("disabled"),$("#CloseLeadId").addClass("disabled"),$("#ChangeOwnerId").addClass("disabled"),$("#AdditionalOwnerId").addClass("disabled"),$("#Inactive").addClass("disabled"),$("#Active").addClass("disabled"),$("#Reject").addClass("disabled"),$("#Approve").addClass("disabled"))}}},E=x,y=(a("78cb"),Object(u["a"])(E,n,o,!1,null,null,null)),S=y.exports,A=a("05a5"),w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"theme-primary partition p-actions-expand"},[t("span",{staticClass:"p-actions float-right"},[e._l(e.icons,(function(a){return[a.isvisible&&"undefined"!=typeof a.callbackfunction?t("a",{class:{"p-action-btn text-white ":!0,disabled:a.isdisabled},attrs:{id:a.id,Key:a,title:e.$t(a.title),href:"javascript:;"},on:{click:function(t){return e.ClickEvent(a)}}},[t("em",{class:"fa "+a.iconClass}),t("br"),t("span",[e._v(e._s(e.$t(a.title)))])]):e._e(),a.isvisible&&"undefined"==typeof a.callbackfunction?t("RouterLink",{class:{"p-action-btn text-white dash ":!0,disabled:a.isdisabled},attrs:{to:a.href,id:a.id,Key:a,title:e.$t(a.title),checkPrivilege:a.checkPrivilege?"yes":""}},[t("em",{class:"fa "+a.iconClass},[t("br")]),t("br"),t("span",[e._v(" "+e._s(e.$t(a.title)))])]):e._e()]})),e.listType.length>1?t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedView,expression:"selectedView"}],staticClass:"form-control customized_ddl m-2",staticStyle:{width:"130px"},attrs:{id:"ddlUserCurrentStatus","asp-custom-tabindex":"1",name:"ddlUserCurrentStatus"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedView=t.target.multiple?a:a[0]},function(t){return e.ChangeViewEvent(e.selectedView)}]}},e._l(e.listType,(function(a){return t("option",{domProps:{value:a}},[e._v(e._s(a)+" View")])})),0):e._e()],2),e._m(0)])},k=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-angle-up text-white"})])])}],I={id:"list-header-buttons",props:{icons:{type:Array,required:!0},listType:{type:Array,required:!0}},data:function(){return{selectedView:this.listType[0]}},methods:{ClickEvent:function(e){this.$emit("ButtonClick",e)},ChangeViewEvent:function(e){this.$emit("ChangeViewEvent",e)}}},N=I,T=Object(u["a"])(N,w,k,!1,null,null,null),D=T.exports,M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"theme-primary partition p-actions-expand",staticStyle:{overflow:"visible"}},[t("span",{staticClass:"p-name text-white px-2",attrs:{id:"titleName"}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.ViewListId,expression:"ViewListId"}],staticClass:"form-control customized_ddl",attrs:{tabindex:"1",name:"ViewList"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.ViewListId=t.target.multiple?a:a[0]},function(t){return e.onchangeView(t)}]}},e._l(e.ViewList,(function(a,s){return t("option",{key:s,domProps:{value:a.VIEW_ID}},[e._v(e._s(a.VIEW_NAME))])})),0)]),t("span",{staticClass:"cursor-pointer"},[t("i",{staticClass:"fa fa-pencil-square-o mt-3 text-white font-20",attrs:{"data-original-title":e.$t("ManageView"),href:"javascript:;",title:e.$t("ManageView")},on:{click:function(t){return e.ClickEvent({title:"ManageView",iconClass:"fa-list-alt",callbackfunction:"ManageView",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1})}}})]),t("span",{staticClass:"p-actions float-right"},[e._l(e.icons,(function(a,s){return[a.isvisible&&"undefined"==typeof a.callbackfunction&&"AddLead"==a.title?t("RouterLink",{key:s,class:{"p-action-btn text-white ":!0,disabled:a.isdisabled},attrs:{to:a.href,id:a.id,Key:a,title:e.$t(a.title),checkPrivilege:a.checkPrivilege?"yes":""}},[t("em",{class:"fa "+a.iconClass},[t("br")]),t("br"),t("span",[e._v(" "+e._s(e.$t(a.title)))])]):e._e(),!a.isvisible||"undefined"==typeof a.callbackfunction||"Delete"!=a.title&&"Filters"!=a.title&&"Reset"!=a.title?e._e():t("a",{class:{"p-action-btn text-white ":!0,disabled:a.isdisabled},attrs:{id:a.id,Key:a,title:e.$t(a.title),href:"javascript:;"},on:{click:function(t){return e.ClickEvent(a)}}},[t("em",{class:"fa "+a.iconClass}),t("br"),t("span",[e._v(e._s(e.$t(a.title)))])])]})),t("a",{staticClass:"p-action-btn text-white invaction",attrs:{href:"javascript:;",title:e.$t("Action")}},[t("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t("br"),e._v(e._s(e.$t("Action")))])],2),t("span",{staticClass:"action-list-box-ddl expand",staticStyle:{"z-index":"999",padding:"0px 10px",right:"0px","line-height":"16px",display:"none",position:"absolute",top:"50px",color:"rgb(17, 17, 17)",overflow:"auto",width:"224px"}},[t("span",{staticClass:"list-actions w-100 fsm-list",staticStyle:{"font-size":"14px"},attrs:{id:"action-list"}},[e._l(e.icons,(function(a,s){return[!a.isvisible||"undefined"==typeof a.callbackfunction||"Page Tour"!=a.title&&"ExportToExcel"!=a.title&&"ChangeLeadOwner"!=a.title&&"AdditionalOwner"!=a.title&&"SendEmail"!=a.title&&"CloseLeads"!=a.title?e._e():t("a",{key:s,class:{"actions-onclick ":!0,disabled:a.isdisabled},attrs:{id:a.id,Key:a,title:e.$t(a.title),href:"javascript:;"},on:{click:function(t){return e.ClickEvent(a)}}},[t("br"),t("em",{class:"fa "+a.iconClass}),t("br"),t("span",[e._v(e._s(e.$t(a.title)))])]),a.isvisible&&"undefined"==typeof a.callbackfunction&&"ImportLeads"==a.title?t("RouterLink",{class:{"actions-onclick ":!0,disabled:a.isdisabled},attrs:{to:a.href,id:a.id,Key:a,title:e.$t(a.title),checkPrivilege:a.checkPrivilege?"yes":""}},[t("br"),t("em",{class:"fa "+a.iconClass},[t("br")]),t("br"),t("span",[e._v(" "+e._s(e.$t(a.title)))])]):e._e()]})),t("i",{staticClass:"fa fa-times close close-action",attrs:{id:"closeaction","aria-hidden":"true"}})],2)]),e._m(0)])},L=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("i",{staticClass:"fa fa-angle-up text-white"})])])}],P=a("9769"),O={id:"list-header-buttons",props:{icons:{type:Array,required:!0},submodulecode:{type:String,required:!0},modulename:{type:String,required:!0},callbackfunction:{type:Function}},data:function(){return{Fields:this.fields,ViewList:[],ViewListId:"0"}},created:function(){var e=this;e.GetDdlRecords_ViewList()},mounted(){$(".invaction").click((function(){$(".action-list-box-ddl").show("slow")})),$("#closeaction").click((function(){$(".action-list-box-ddl").hide("slow")}))},methods:{ClickEvent:function(e){this.$emit("ButtonClick",e)},GetDdlRecords_ViewList:function(){var e=this,t=`moduleName=${e.modulename}&subModuleCode=${e.submodulecode}&viewId=0&pageSize=10&pageNum=1&sortBy=&sortExp=`;P["a"].GetViewList(t).then((function(t){e.ViewList=t.data.DATA;var a=0;null==e.ViewList||""==e.ViewList||e.ViewList.forEach((function(t){t.IS_SLECTED_USER_ID>0&&(a+=1,e.ViewListId=t.VIEW_ID)}));var s=0;a>0?e.ViewList.splice(s,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):(null==e.ViewList||""==e.ViewList?(e.ViewList=[],e.ViewList.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""})):e.ViewList.splice(s,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}),e.ViewListId=0)}))},onchangeView:function(e){var t=this;if("0"==t.ViewListId)t.DefaultView();else{var a={ViewId:t.ViewListId,ModuleName:t.modulename,SubmoduleCode:t.submodulecode},s=JSON.stringify(a);P["a"].ApplyView(s).then((function(e){null!=e.data&&("1"==e.data.code||"1"==e.data.Code)?(t.ShowAlert(t.$t("ApplySuccess",[t.$t("View")]),"success",!0,t.$t("Alert")),t.$emit("RefreshManageView")):t.ShowAlert(t.$t("AddedError",[t.$t("View")]),"failure",!0,t.$t("Alert"))}))}},DefaultView:function(){var e=this,t={ModuleName:e.modulename,SubmoduleCode:e.submodulecode},a=JSON.stringify(t);P["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ClearSuccess",[e.$t("DefaultView")]),"success",!0,e.$t("Alert")),e.$emit("RefreshManageView")):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))}}},R=O,F=(a("92cd"),Object(u["a"])(R,M,L,!1,null,"519a4f08",null)),V=F.exports,U=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row card-view bg-border custom-box-width"},e._l(e.data,(function(a,s){return t("div",{staticClass:"col-md-12 col-lg-6 col-xl-3 mb-3 fsmaddresscontrol"},[e.customcard?e._e():t("div",{class:{"card-box":!0},staticStyle:{"border-width":"5px 2px 2px","border-style":"solid","border-color":"rgb(153 153 153)","border-image":"initial"}},[t("div",{staticClass:"mb-2"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.isSelected,expression:"row.isSelected"}],staticClass:"chkItems",attrs:{disabled:a.isCheckBoxDisabled,type:"checkbox"},domProps:{value:a[e.identityColumn],checked:Array.isArray(a.isSelected)?e._i(a.isSelected,a[e.identityColumn])>-1:a.isSelected},on:{change:[function(t){var s=a.isSelected,i=t.target,n=!!i.checked;if(Array.isArray(s)){var o=a[e.identityColumn],l=e._i(s,o);i.checked?l<0&&e.$set(a,"isSelected",s.concat([o])):l>-1&&e.$set(a,"isSelected",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(a,"isSelected",n)},function(t){return e.onChangeEventOfCheckbox(t,e.item)}]}})]),"date"!=e.columns[0].DATA_TYPE&&"datetime"!=e.columns[0].DATA_TYPE||"decimal"==e.columns[0].DATA_TYPE?e._e():t("span",[e._v(e._s(e.$filters.formatDate(a[e.columns[0].COLUMN_NAME])))]),"decimal"==e.columns[0].DATA_TYPE?t("span",[e._v(e._s(e.$filters.currency(a[e.columns[0].COLUMN_NAME])))]):e._e(),"date"!=e.columns[0].DATA_TYPE&&"datetime"!=e.columns[0].DATA_TYPE&&"decimal"!=e.columns[0].DATA_TYPE?t("span",{attrs:{title:a[e.columns[0].COLUMN_NAME]}},["undefined"!=typeof e.columns[0].settings&&null!=e.columns[0].settings&&"undefined"!=typeof e.columns[0].settings.clickEvent&&null!=e.columns[0].settings.clickEvent&&1!=e.columns[0].settings.isInSlot?t("a",{attrs:{id:"viewLeadeContent_a",href:"javascript:;"},on:{click:function(t){return e.clickEventCheck(e.columns,a)}}},[e._v(e._s("function"===typeof e.columns[0].settings.formatter?e.columns[0].settings.formatter(a,e.columns[0]):e.TruncateStr(a[e.columns[0].COLUMN_NAME],30)))]):e._e(),"undefined"==typeof e.columns[0].settings||null==e.columns[0].settings||"undefined"!==typeof e.columns[0].settings.clickEvent&&null!=e.columns[0].settings.clickEvent||1==e.columns[0].settings.isInSlot?e._e():t("span",{attrs:{title:a[e.columns[0].COLUMN_NAME]}},[e._v(e._s("function"===typeof e.columns[0].settings.formatter?e.columns[0].settings.formatter(a,e.columns[0]):e.TruncateStr(a[e.columns[0].COLUMN_NAME],30)))]),"undefined"===typeof e.columns[0].settings||null==e.columns[0].settings?t("span",{attrs:{title:a[e.columns[0].COLUMN_NAME]}},[e._v(e._s(e.TruncateStr(a[e.columns[0].COLUMN_NAME],30)))]):e._e(),"undefined"!=typeof e.columns[0].settings&&null!=e.columns[0].settings&&"undefined"!=typeof e.columns[0].settings.isInSlot&&1==e.columns[0].settings.isInSlot?e._t("slotdata",null,{data:{row:a,column:e.columns[0]}}):e._e()],2):e._e()]),t("div",{staticClass:"card-detail-main filterscrollForCardView"},e._l(e.columns,(function(s,i){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowColumn(a,s)&&i>0,expression:"isShowColumn(row,key) && index > 0"}],key:s,staticClass:"card-detail"},[t("i",{class:"fa "+e.defaultIconsForColumn(s),attrs:{"data-name":s.COLUMN_NAME,"aria-hidden":"true"}}),"date"!=s.DATA_TYPE&&"datetime"!=s.DATA_TYPE||"decimal"==s.DATA_TYPE?e._e():t("span",[e._v(e._s(e.$filters.formatDate(a[s.COLUMN_NAME])))]),"decimal"==s.DATA_TYPE?t("span",[e._v(e._s(e.$filters.currency(a[s.COLUMN_NAME])))]):e._e(),"date"!=s.DATA_TYPE&&"datetime"!=s.DATA_TYPE&&"decimal"!=s.DATA_TYPE?t("span",{attrs:{title:a[s.COLUMN_NAME]}},["undefined"!=typeof s.settings&&null!=s.settings&&"undefined"!=typeof s.settings.clickEvent&&null!=s.settings.clickEvent&&1!=s.settings.isInSlot?t("a",{attrs:{id:"viewLeadeContent_a",href:"javascript:;"},on:{click:function(t){return e.clickEventCheck2(s,a)}}},[e._v(e._s("function"===typeof s.settings.formatter?s.settings.formatter(a,s):e.TruncateStr(a[s.COLUMN_NAME],30)))]):e._e(),"undefined"==typeof s.settings||null==s.settings||"undefined"!==typeof s.settings.clickEvent&&null!=s.settings.clickEvent||1==s.settings.isInSlot?e._e():t("span",{attrs:{title:a[s.COLUMN_NAME]}},[e._v(e._s("function"===typeof s.settings.formatter?s.settings.formatter(a,s):e.TruncateStr(a[s.COLUMN_NAME],30)))]),"undefined"===typeof s.settings||null==s.settings?t("span",{attrs:{title:a[s.COLUMN_NAME]}},[e._v(e._s(e.TruncateStr(a[s.COLUMN_NAME],30)))]):e._e(),"undefined"!=typeof s.settings&&null!=s.settings&&"undefined"!=typeof s.settings.isInSlot&&1==s.settings.isInSlot?e._t("slotdata",null,{data:{row:a,column:s}}):e._e()],2):e._e()])})),0),t("div",{staticClass:"bottom-action",staticStyle:{background:"none !important"}},[e._l(e.columns,(function(s){return["undefined"!==typeof s.settings&&null!=s.settings&&"undefined"!==typeof s.settings.isForTag&&1==s.settings.isForTag?t("div",{class:"px-2 text-center text-white d-block "+e.tagColor(a,s)},[e._v(" "+e._s(a[s.COLUMN_NAME])+" ")]):e._e()]})),t("div",{staticClass:"card-action my-2"},["true"==e.IsShowAction?t("RowActions",{attrs:{item:a,index:s,identityColumn:e.identityColumn,listActions:e.renderRowActionMethod(a),listType:"Card"},on:{"button-click":e.ButtonClick}}):e._e()],1)],2)]),e.customcard?[e._t("customcard",null,{data:{row:a,columnlist:e.columns,onchangecheckbox:e.onChangeEventOfCheckbox}})]:e._e()],2)})),0),t("Pager",{attrs:{numberofrecords:e.totalrecords,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"},on:{"set-current-page":e.pagerMethod}})],1)},B=[],j={components:{Pager:_,RowActions:f},props:{data:{type:Array,required:!0},columns:{type:Array,required:!0},totalrecords:{type:Number,required:!0,deep:!0},renderRowActionMethod:{type:Function,required:!0},IsShowAction:{type:String,required:!0},identityColumn:{type:String,required:!0},subModuleCode:{type:String,required:!0},customcard:{type:Boolean,default:!1}},watch:{totalrecords:function(e){this.TotalRecords=e}},data(){return{TotalRecords:0}},methods:{TruncateStr:function(e,t){var a=""+e;if(null!=a)return a.length<=t?e:a.substring(0,t)+"..."},pagerMethod:function(e){this.$emit("PagerMethod",e)},isShowColumn:function(e,t){return!(!e[t.COLUMN_NAME]||null==e[t.COLUMN_NAME]||""==e[t.COLUMN_NAME])&&("undefined"===typeof t.settings||null==t.settings||"undefined"===typeof t.settings.isForTag||1!=t.settings.isForTag)},tagColor:function(e,t){return e[t.COLUMN_NAME].toLowerCase().includes("active")||e[t.COLUMN_NAME].toLowerCase().includes("open")||e[t.COLUMN_NAME].toLowerCase().includes("approve")?"btn-success":e[t.COLUMN_NAME].toLowerCase().includes("inactive")||e[t.COLUMN_NAME].toLowerCase().includes("delete")||e[t.COLUMN_NAME].toLowerCase().includes("cancel")||e[t.COLUMN_NAME].toLowerCase().includes("reject")||e[t.COLUMN_NAME].toLowerCase().includes("close")?"bg-danger":e[t.COLUMN_NAME].toLowerCase().includes("draft")||e[t.COLUMN_NAME].toLowerCase().includes("partial")?"bg-warning":"bg-secondary"},defaultIconsForColumn:function(e){return"undefined"!=typeof e.settings&&null!=e.settings&&"undefined"!=typeof e.settings.icon?e.settings.icon:e.COLUMN_NAME.toLowerCase().includes("email")?"fa-envelope":e.COLUMN_NAME.toLowerCase().includes("subject")?"fa-tasks":e.COLUMN_NAME.toLowerCase().includes("description")?"fa-file":e.COLUMN_NAME.toLowerCase().includes("date")||e.COLUMN_NAME.toLowerCase().includes("created_at")||e.COLUMN_NAME.toLowerCase().includes("modified_at")?"fa-calendar":e.COLUMN_NAME.toLowerCase().includes("user")||e.COLUMN_NAME.toLowerCase().includes("created_by")||e.COLUMN_NAME.toLowerCase().includes("modified_by")||e.COLUMN_NAME.toLowerCase().includes("users")?"fa-user":e.COLUMN_NAME.toLowerCase().includes("client")?"fa-user-o":e.COLUMN_NAME.toLowerCase().includes("contact")?"fa-phone-square":e.COLUMN_NAME.toLowerCase().includes("country")?"fa-globe":e.COLUMN_NAME.toLowerCase().includes("count")||e.COLUMN_NAME.toLowerCase().includes("number")||e.COLUMN_NAME.toLowerCase().includes("cost")?"fa-money":e.COLUMN_NAME.toLowerCase().includes("address")||e.COLUMN_NAME.toLowerCase().includes("city")?"fa-address-card":"fa-exclamation-triangle"},ButtonClick:function(e,t,a,s){this.$emit("ButtonClick",e,t,a,s)},onChangeEventOfCheckbox:function(e,t){this.$emit("EventOfCheckbox",e,t)},clickEventCheck(e,t){"function"===typeof e[0].settings.clickEvent&&e[0].settings.clickEvent(t,e[0])},clickEventCheck2(e,t){"function"===typeof e.settings.clickEvent&&e.settings.clickEvent(t,e)}}},G=j,q=Object(u["a"])(G,U,B,!1,null,null,null),H=q.exports,Y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"onlyd-view",staticStyle:{"min-height":"800px !important"}},[t("ul",{staticClass:"canvan-view-list kvfixhead",style:e.KanbanTags.length<6?"min-width: 1400px !important;":""},e._l(e.KanbanTags,(function(a){return t("li",{attrs:{"data-max":a.maxCount}},[t("h3",{style:"color:#FFF;background-color:"+a.color+";"},[e._v(e._s(a.maxCount)),t("br"),t("span",[e._v(e._s(a.value))])])])})),0),t("ul",{staticClass:"canvan-view-list kvlistview cardmaindiv",style:e.KanbanTags.length<6?"min-width: 1400px !important;":""},e._l(e.KanbanTags,(function(a){return t("li",{staticClass:"progres maxCount"},[t("div",{staticClass:"list-group"},[e._l(e.data,(function(s,i){return[s[e.ColumnOnWhichKanbanApplied]==a.value?t("div",{staticClass:"card list-group-item p-0 notdisable",style:"border:2px solid "+a.color+";"},[t("div",{class:{"card-body":!0}},[t("div",{staticClass:"cardhead"},[t("div",{staticClass:"custom-control custom-checkbox float-left",staticStyle:{"margin-top":"-5px"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.isSelected,expression:"row.isSelected"}],staticClass:"chkItems",staticStyle:{display:"none"},attrs:{disabled:s.isCheckBoxDisabled,type:"checkbox"},domProps:{value:s[e.identityColumn],checked:Array.isArray(s.isSelected)?e._i(s.isSelected,s[e.identityColumn])>-1:s.isSelected},on:{change:[function(t){var a=s.isSelected,i=t.target,n=!!i.checked;if(Array.isArray(a)){var o=s[e.identityColumn],l=e._i(a,o);i.checked?l<0&&e.$set(s,"isSelected",a.concat([o])):l>-1&&e.$set(s,"isSelected",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(s,"isSelected",n)},function(t){return e.onChangeEventOfCheckbox(t,e.item)}]}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_53"}})]),t("h5",{staticClass:"card-title"},["date"!=e.columns[0].DATA_TYPE&&"datetime"!=e.columns[0].DATA_TYPE&&"decimal"!=e.columns[0].DATA_TYPE&&"undefined"!=typeof e.columns[0].settings&&null!=e.columns[0].settings&&"undefined"!=typeof e.columns[0].settings.clickEvent&&null!=e.columns[0].settings.clickEvent&&1!=e.columns[0].settings.isInSlot?t("a",{staticClass:"nostylelink",attrs:{href:"javascript:;"},on:{click:function(t){return e.clickEventCheck(e.columns,s)}}},[e._v(e._s("function"===typeof e.columns[0].settings.formatter?e.columns[0].settings.formatter(s,e.columns[0]):e.TruncateStr(s[e.columns[0].COLUMN_NAME],30)))]):e._e()])]),t("div",{staticClass:"card-detail-main filterscrollForCardView"},e._l(e.columns,(function(a,i){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowColumn(s,a)&&i>0,expression:"isShowColumn(row,key) && index > 0"}],key:a,staticClass:"spac-eq card-detail"},[t("i",{class:"fa "+e.defaultIconsForColumn(a),attrs:{"data-name":a.COLUMN_NAME,"aria-hidden":"true"}}),"date"!=a.DATA_TYPE&&"datetime"!=a.DATA_TYPE||"decimal"==a.DATA_TYPE?e._e():t("span",[e._v(e._s(e.$filters.formatDate(s[a.COLUMN_NAME])))]),"decimal"==a.DATA_TYPE?t("span",[e._v(e._s(e.$filters.currency(s[a.COLUMN_NAME])))]):e._e(),"date"!=a.DATA_TYPE&&"datetime"!=a.DATA_TYPE&&"decimal"!=a.DATA_TYPE?["undefined"==typeof a.settings||null==a.settings||"undefined"!==typeof a.settings.clickEvent&&null!=a.settings.clickEvent||1==a.settings.isInSlot?e._e():t("span",{attrs:{title:s[a.COLUMN_NAME]}},[e._v(e._s("function"===typeof a.settings.formatter?a.settings.formatter(s,a):e.TruncateStr(s[a.COLUMN_NAME],30)))]),"undefined"===typeof a.settings||null==a.settings?t("span",{attrs:{title:s[a.COLUMN_NAME]}},[e._v(e._s(e.TruncateStr(s[a.COLUMN_NAME],30)))]):e._e(),"undefined"!=typeof a.settings&&null!=a.settings&&"undefined"!=typeof a.settings.isInSlot&&1==a.settings.isInSlot?e._t("slotdata",null,{data:{row:s,column:a}}):e._e()]:e._e()],2)})),0),t("div",{staticClass:"verticle-action"},[t("i",{staticClass:"fa fa-ellipsis-v action_icon_cv d-inline-block",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"action-list-box",staticStyle:{width:"200px"}},[t("span",{staticClass:"list-actions fsm-list",attrs:{id:"action-list"}},[t("div",{staticClass:"float-left"},["true"==e.IsShowAction?t("RowActions",{attrs:{item:s,index:i,identityColumn:e.identityColumn,listActions:e.renderRowActionMethod(s),listType:"Kanban"},on:{"button-click":e.ButtonClick}}):e._e()],1),t("i",{staticClass:"fa fa-times close close-action_cv",attrs:{"aria-hidden":"true"}})])])])])]):e._e()]}))],2)])})),0)])},z=[],K={components:{RowActions:f},props:{data:{type:Array,required:!0},columns:{type:Array,required:!0},totalrecords:{type:Number,required:!0,deep:!0},renderRowActionMethod:{type:Function,required:!0},IsShowAction:{type:Boolean,required:!0},identityColumn:{type:String,required:!0},subModuleCode:{type:String,required:!0},customcard:{type:String,default:!1}},watch:{totalrecords:function(e){this.TotalRecords=e}},data(){return{TotalRecords:0,KanbanTags:[],ColumnOnWhichKanbanApplied:""}},mounted:function(){let e=this;e.getKanbanTagsInfo(),setTimeout((function(){e.BindActionButtonEvent()}))},methods:{TruncateStr:function(e,t){var a=""+e;if(null!=a)return a.length<=t?e:a.substring(0,t)+"..."},pagerMethod:function(e){this.$emit("PagerMethod",e)},isShowColumn:function(e,t){return!(!e[t.COLUMN_NAME]||null==e[t.COLUMN_NAME]||""==e[t.COLUMN_NAME])&&("undefined"===typeof t.settings||null==t.settings||"undefined"===typeof t.settings.isForTag||1!=t.settings.isForTag)},tagColor:function(e,t){return e[t.COLUMN_NAME].toLowerCase().includes("active")||e[t.COLUMN_NAME].toLowerCase().includes("open")||e[t.COLUMN_NAME].toLowerCase().includes("approve")?"btn-success":e[t.COLUMN_NAME].toLowerCase().includes("inactive")||e[t.COLUMN_NAME].toLowerCase().includes("delete")||e[t.COLUMN_NAME].toLowerCase().includes("cancel")||e[t.COLUMN_NAME].toLowerCase().includes("reject")||e[t.COLUMN_NAME].toLowerCase().includes("close")?"bg-danger":e[t.COLUMN_NAME].toLowerCase().includes("draft")||e[t.COLUMN_NAME].toLowerCase().includes("partial")?"bg-warning":"bg-secondary"},defaultIconsForColumn:function(e){return"undefined"!=typeof e.settings&&null!=e.settings&&"undefined"!=typeof e.settings.icon?e.settings.icon:e.COLUMN_NAME.toLowerCase().includes("email")?"fa-envelope":e.COLUMN_NAME.toLowerCase().includes("subject")?"fa-tasks":e.COLUMN_NAME.toLowerCase().includes("description")?"fa-file":e.COLUMN_NAME.toLowerCase().includes("date")||e.COLUMN_NAME.toLowerCase().includes("created_at")||e.COLUMN_NAME.toLowerCase().includes("modified_at")?"fa-calendar":e.COLUMN_NAME.toLowerCase().includes("user")||e.COLUMN_NAME.toLowerCase().includes("created_by")||e.COLUMN_NAME.toLowerCase().includes("modified_by")||e.COLUMN_NAME.toLowerCase().includes("users")?"fa-user":e.COLUMN_NAME.toLowerCase().includes("client")?"fa-user-o":e.COLUMN_NAME.toLowerCase().includes("contact")?"fa-phone-square":e.COLUMN_NAME.toLowerCase().includes("country")?"fa-globe":e.COLUMN_NAME.toLowerCase().includes("count")||e.COLUMN_NAME.toLowerCase().includes("number")||e.COLUMN_NAME.toLowerCase().includes("cost")?"fa-money":e.COLUMN_NAME.toLowerCase().includes("address")||e.COLUMN_NAME.toLowerCase().includes("city")?"fa-address-card":"fa-exclamation-triangle"},ButtonClick:function(e,t,a,s){this.$emit("ButtonClick",e,t,a,s)},onChangeEventOfCheckbox:function(e,t){this.$emit("EventOfCheckbox",e,t)},getKanbanTagsInfo:function(){let e=this;this.columns.forEach(t=>{"undefined"!=typeof t.settings&&null!=t.settings&&"undefined"!=typeof t.settings.isInSlot&&t.settings.tagInfo.length>0&&(e.KanbanTags=t.settings.tagInfo,e.ColumnOnWhichKanbanApplied=t.COLUMN_NAME)})},BindActionButtonEvent:function(){let e=document.getElementsByClassName("action_icon_cv");e.forEach((function(e){e.addEventListener("click",(function(t){let a=document.getElementsByClassName("action_icon_cv");a.forEach((function(e){e.nextSibling.classList.remove("is-visible"),e.nextSibling.style.opacity=0,e.nextSibling.style.height=0}));var s=e.nextSibling;let i=null;const n=s;let o=0,l=50;function r(){o>l?clearInterval(i):(o+=5,n.style.height=o+"px")}clearInterval(i),n.classList.add("is-visible"),n.getElementsByClassName("actions-onclick").forEach((function(e){l+=e.clientHeight})),i=setInterval(r,5),n.style.opacity=1})),e.nextSibling.getElementsByClassName("close-action_cv")[0].addEventListener("click",(function(t){e.nextSibling.classList.remove("is-visible"),e.nextSibling.style.opacity=0,e.nextSibling.style.height=0}))}))},clickEventCheck(e,t){"function"===typeof e[0].settings.clickEvent&&e[0].settings.clickEvent(t,e[0])}}},X=K,W=Object(u["a"])(X,Y,z,!1,null,null,null),Q=W.exports,J=a("a026"),Z={props:{listType:{type:Array,default:["List"]},ListData:null,HeaderText:{type:String,required:!0},HeaderData:null,IsShowAction:{type:String,required:!0},SearchPosition:{type:String,required:!1},SearchFields:{type:Array,required:!0},LegendArray:null,HeaderButtons:{type:Array,required:!0},ModuleName:{type:String,required:!0},SubModuleCode:{type:String,required:!0},IdentityColumn:{type:String,required:!0},RenderRowActionMethod:{type:Function,required:!0},TotalRecords:{type:Number,required:!0},CurrentPageNumber:{type:Number},IsFilterApplied:null,SortExp:null,SortBy:null,KanbanDataCallBackFunction:{type:Function,default:null},widgets:{type:Array,default:[]}},components:{leftsearch:A["a"],DataTable:S,CardView:H,KanbanView:Q,"list-header-buttons":D,"list-header-buttonNew":V},data(){return{ErrorText:"",TotalRecordsForPaging:0,noRecord:!1,selectedView:this.listType[0],IsShowCustomCard:!1,HeaderButtonArrayForUpdate:this.HeaderButtons,DisabledHeaderButton:[],widgetClassArray:["one_wid","two_wid","three_wid","four_wid","five_wid"]}},watch:{TotalRecords:function(e){var t=this;setTimeout(()=>{t.TotalRecordsForPaging=e},500)}},mounted:function(){const e=Object(J["useSlots"])();this.IsShowCustomCard=!!e.customcard,this.DisabledHeaderButton=this.HeaderButtons.filter(e=>1==e.isdisabled)},updated:function(){this.ListData&&this.ListData.length>0?this.noRecord=!1:this.noRecord=!0,this.ErrorText="","undefined"===typeof this.ListData?this.ErrorText="Data is not provided to the TgList component":"object"!==typeof this.ListData&&"array"!==typeof this.ListData&&(this.ErrorText="Data is not an object or array - TgList"),"undefined"===typeof this.HeaderData?this.ErrorText="Headers are not provided to the TgList component":"object"!==typeof this.HeaderData&&"array"!==typeof this.HeaderData&&(this.ErrorText="Header Data is not an object or array - TgList"),"undefined"===typeof this.IdentityColumn&&(this.ErrorText="Identity Column are not provided to the TgList component"),"undefined"===typeof this.ModuleName&&(this.ErrorText="Module Name are not provided to the TgList component"),"undefined"===typeof this.SubModuleCode&&(this.ErrorText="Sub Module Code are not provided to the TgList component"),"undefined"===typeof this.RenderRowActionMethod&&"true"==this.IsShowAction&&(this.ErrorText="Render Row Action Method are not provided to the TgList component"),this.BindActionButtonEvent()},methods:{ExpandCollapseList(){var e=document.getElementById("crmleftsearch");e.classList.toggle("left-menu-tab-collapsed");var t=document.getElementById("crmrightsearch");t.classList.toggle("right-content-expand")},RefreshManageView(){this.$emit("RefreshManageView")},commonHeaderButtonClick:function(e){this.$emit("HeaderButtonClick",e)},leftCommonSearch:function(e){this.$emit("LeftsearchButtonClick",e)},pagerMethod:function(e){this.$emit("PagerButtonClick",e)},sortdata:function(e){this.$emit("SortdataButtonClick",e)},actionButtonClick:function(e,t,a,s){this.$emit("ActionButtonClick",e,t,a,s)},ChangeViewEvent:function(e){try{this.selectedView=e,"Kanban"==e&&null!=this.KanbanDataCallBackFunction?this.KanbanDataCallBackFunction():this.TotalRecords>0?this.$emit("PagerButtonClick",{PageNumber:1,PageSize:10}):this.ListDataCallBackFunction()}catch(t){console.log(t)}},onChangeEventOfCheckbox:function(e,t){if(e.target.checked)this.HeaderButtonArrayForUpdate.forEach(e=>{e.isdisabled=!1});else{let e=!0;this.ListData.forEach(t=>{t.isSelected&&(e=!1)}),e&&this.HeaderButtonArrayForUpdate.forEach(e=>{this.DisabledHeaderButton.forEach(t=>{t.title==e.title&&(e.isdisabled=!0)})})}},BindActionButtonEvent:function(){let e=Array.from(document.getElementsByClassName("action_icon"));e.forEach((function(e){e.removeEventListener("click",null),e.addEventListener("click",(function(t){let a=Array.from(document.getElementsByClassName("action_icon"));a.forEach((function(e){e.nextSibling.classList.remove("is-visible"),e.nextSibling.style.opacity=0,e.nextSibling.style.width=0}));var s=e.nextSibling;let i=null;const n=s;let o=0,l=90;clearInterval(i),n.classList.add("is-visible");let r=Array.from(n.getElementsByClassName("actions-onclick"));function c(){o>l?clearInterval(i):(o+=5,n.style.width=o+"px")}r.forEach((function(e){l=l+e.clientWidth+10})),i=setInterval(c,5),n.style.opacity=1})),e.nextSibling.getElementsByClassName("close-action")[0].removeEventListener("click",null),e.nextSibling.getElementsByClassName("close-action")[0].addEventListener("click",(function(t){e.nextSibling.classList.remove("is-visible"),e.nextSibling.style.opacity=0,e.nextSibling.style.width=0}))}))}}},ee=Z,te=(a("9fd5"),Object(u["a"])(ee,s,i,!1,null,null,null));t["a"]=te.exports},"44fc":function(e,t,a){var s=a("4be5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("3d145f16",s,!0,{sourceMap:!1,shadowMode:!1})},"46ca":function(e,t,a){"use strict";a("44fc")},4758:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("TgList",{attrs:{listType:["List"],IsShowAction:"true",ModuleName:"ExpenseApproval",SubModuleCode:"ExpenseApproval",IdentityColumn:"EXPENSEID",HeaderText:e.$t("ExpenseApproval"),ListData:e.ExpenseApprovalData,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchData,SortExp:e.SortExp,SortBy:e.SortBy},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["Status"==a.column.COLUMN_NAME?[t("a",{staticClass:"inactive-disabled"},["SentForCorrection"!=a.row.Status?t("span",{class:e.getStatusClass(a.row.Status,"Status")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")]):e._e(),"SentForCorrection"==a.row.Status?t("span",{class:e.getStatusClass(a.row.Status,"Status")},[e._v(" "+e._s(e.$t("SentForCorrection"))+" ")]):e._e()])]:e._e(),"Amount"==a.column.COLUMN_NAME?[e._v(" "+e._s(e.convertDecimalValueInFormat(a.row.Amount)+" "+a.row.ISO_CODE)+" ")]:e._e()]}}])}),e.showCommentModal?t("ExpenseComments",{attrs:{access:e.access,expenseid:e.expid,CommentHeader:e.CommentHeader,isSingleCommentforMultipleExpenses:e.isSingleCommentforMultipleExpenses,statuscode:e.statuscode,visibility:e.visibility},on:{CloseExpenseComments:function(t){return e.CloseExpenseComments()},fetchdata:function(t){return e.fetchdata()}}}):e._e(),e._v(" --\x3e "),e.showApproverStatusModal?t("ExpenseApproverStatus",{attrs:{expenseid:e.expid},on:{CloseExpenseApproverStatus:function(t){return e.CloseExpenseApproverStatus()}}}):e._e(),e.showFileModal?t("ExpenseAttachents",{attrs:{expenseid:e.expid,code:e.statuscode},on:{CloseExpenseAttachments:e.CloseExpenseAttachments}}):e._e()],1)},i=[],n=(a("14d9"),a("9769"));let o=[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Approve",iconClass:"fa fa-check",callbackfunction:"SendForApprovalApprove",additionalClass:"",isdisabled:!0,isvisible:!0,id:"SendForApprove"},{title:"Reject",iconClass:"fa fa-close",callbackfunction:"SendForApprovalReject",additionalClass:"",isdisabled:!0,isvisible:!0,id:"SendForReject"},{title:"View History",iconClass:"fa fa-history",callbackfunction:"ViewHistory",additionalClass:"",isdisabled:!1,isvisible:!0,id:"ViewHistory"}],l=[{fieldName:"DATE",fieldType:"date-range",fieldIcon:"fa-calendar",fieldSearchConditionName:["expense_date|expense_date"],isSearch:!1,datePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:!1,maxDate:!1,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:!1,maxDate:!1,widgetPositioning:{horizontal:"right",vertical:"bottom"}},value:"",secondValue:"",listOptions:[]},{fieldName:"Project",fieldType:"ddl-check",fieldIcon:"fa-file",fieldSearchConditionName:["PRO.project_id"],isSearch:!1,value:"",listOptions:[]},{fieldName:"User",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["U.user_id"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Show Data",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:"",isSearch:!1,value:"",listOptions:[{value:"My Approvals",name:"My Approvals"},{value:"All Approvals",name:"All Approvals"}]}],r=[{title:"View Attched Files",href:"javascript:void(0)",icon:"fa fa-download",additionalSpan:"",callbackfunction:"downloadAttachment"},{title:"Comments",callbackfunction:"openAddNewEvent",href:"javascript:void(0)",icon:"fa fa-comment",additionalSpan:""},{title:"Send For Correction",callbackfunction:"SendForCorrection",href:"javascript:void(0)",icon:"fa fa-send-o",additionalSpan:""},{title:"Approver Status",callbackfunction:"ApproverStatus",href:"javascript:void(0)",icon:"fa fa-eye",additionalSpan:""}];function c(e,t,a,s){var i=e;let o={};o["type"]=t,o["IsEncrptedId"]=a,o["moduleName"]=s,"Project"==t&&n["a"].ExpenseGetProjectListing(o).then((function(e){var t=e.data;if(null!=t)return t.forEach((function(e,t){let a={name:e.name,value:""+e.value};i.leftSearchFields[1].listOptions.push(a)})),i.$parent.ExpenseGetProjectList=t})),"User"==t&&n["a"].ExpenseGetUserListing(o).then((function(e){var t=e.data;if(null!=t)return t.forEach((function(e,t){let a={name:e.name,value:""+e.value};i.leftSearchFields[2].listOptions.push(a)})),i.$parent.ExpenseGetUserList=t}))}var d={buttons:o,leftsearchSchema:l,listActions:r,bindleftCommonSearchdropdown:c},u=a("9d1d"),p=a("5333"),f=a("2aeb"),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("ApproverStatus"))+" ")]),t("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(t){return e.CloseExpenseApproverStatus(e.event)}}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[e.noRecordForTab?e._e():t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table dt-responsive nowrap mt-0",attrs:{id:"table-openactivities-content"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v(e._s(e.$t("ApprovalGroupName")))])]),t("th",[t("span",[e._v(e._s(e.$t("Header_User")))])]),t("th",[t("span",[e._v(e._s(e.$t("Status")))])])])]),t("tbody",e._l(e.ExpenseApproverStatusData,(function(a,s){return t("tr",{key:s},[t("td",[e._v(e._s(a.APPROVAL_GROUP_NAME))]),t("td",[e._v(e._s(a.USERS))]),t("td",[e._v(e._s(a.STATUS))])])})),0)])]),e.noRecordForTab?t("div",{staticClass:"text-center text-danger p-4 border no-record"},[e._v(e._s(e.$t("NoRecordfound")))]):e._e()])])])])],1)},h=[],v={props:{expenseid:{type:String,required:!0}},data:function(){return{isLoading:!1,ExpenseApproverStatusData:null,noRecordForTab:!1}},created:function(){this.FetchData()},methods:{CloseExpenseApproverStatus:function(e){this.$emit("CloseExpenseApproverStatus",e)},FetchData:function(){var e=this;e.isLoading=!0;var t=`id=${e.expenseid}&approvalTypeId=2&approvalChainId=0&approverOrder=0`;n["a"].ExpenseApproverStatusListing(t).then((function(t){null!=t.data&&t.data.length>0?e.ExpenseApproverStatusData=t.data:(e.noRecordForTab=!0,e.ExpenseApproverStatusData=[]),e.isLoading=!1}))}}},C=v,g=a("2877"),_=Object(g["a"])(C,m,h,!1,null,null,null),b=_.exports,x={components:{ExpenseComments:u["a"],ExpenseApproverStatus:b,ExpenseAttachents:p["a"],TgList:f["a"]},data(){return{isLoading:!1,showFileModal:!1,searchCondition:"",TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",noRecord:!1,CurrentPage:1,TotalPages:0,ExpenseApprovalData:null,ExpenseApprovaHistorylData:!1,Headers:[{COLUMN_NAME:"Date",DATA_TYPE:"date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Date",DISPLAY_ORDER:1},{COLUMN_NAME:"expense_title",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Title",DISPLAY_ORDER:2},{COLUMN_NAME:"UserName",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"UserName",DISPLAY_ORDER:3},{COLUMN_NAME:"Category",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Category",DISPLAY_ORDER:4},{COLUMN_NAME:"Project",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Project_Name",DISPLAY_ORDER:5},{COLUMN_NAME:"Amount",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Amount",DISPLAY_ORDER:6,settings:{isInSlot:!0}}],listheaderbuttons:d.buttons,leftSearchFields:d.leftsearchSchema,listActions:d.listActions,ExpenseGetProjectList:null,ExpenseGetUserList:null,showCommentModal:!1,CommentHeader:null,UserName:null,isSingleCommentforMultipleExpenses:null,statuscode:"",showApproverStatusModal:!1,IsShowAction:!0,visibility:!0,access:!0}},created:function(){var e=this;e.FetchData(),d.bindleftCommonSearchdropdown(e,"Project","no",""),d.bindleftCommonSearchdropdown(e,"User","","EXPENSEAPPROVAL"),d.bindleftCommonSearchdropdown(e,"Show Data","",""),e.UserName=e.GetUserInfo.Name},updated:function(){this.BindActionButtonEvent(),this.SetScrolbar("dark-thick","","filterscroll_leftsearch")},methods:{FetchData:function(){var e=this;e.isLoading=!0;const t=this.getRequestParams(this.sortBy,this.sortExp,this.pageSize,this.pageNumber,this.isPaged,this.searchcondition);t.pageSize=e.PageSize,t.pageNumber=e.PageNumber,t.searchCondition=e.searchCondition,e.PageNumber?t.pageNumber=e.PageNumber:e.PageNumber=t.pageNumber=1,"undefined"!=typeof e.isPaged?t.isPaged=e.isPaged:e.isPaged=t.isPaged=1,t.isPaged=e.isPaged,t.sortBy=e.SortBy,t.sortExp=e.SortExp;var a="";e.isBlank(e.searchCondition)||(a+=e.searchCondition),e.isBlank(e.conditionForInstantSearch)||(a+=e.isBlank(e.searchCondition)?e.conditionForInstantSearch:" AND "+e.conditionForInstantSearch),""!=a&&(t.searchCondition=a),n["a"].ExpenseApprovalListing(t).then((function(t){e.isLoading=!1,null!=t.data&&""!=t.data?t.data.data.length>0?(e.ExpenseApprovalData=[],e.ExpenseApprovalData=t.data.data,e.TotalRecords=t.data.data[0].TOTAL_RECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1):(e.noRecord=!0,e.ExpenseApprovalData=[],e.TotalRecords=0):(e.noRecord=!0,e.ExpenseApprovalData=[],e.Headers=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},fetchdata(){this.FetchData()},getRequestParams:function(e,t,a,s,i,n){let o={};return s&&(o["pageNumber"]=s),n&&(o["searchcondition"]=n),i&&(o["isPaged"]=i),e&&(o["sortBy"]=e),t&&(o["sortExp"]=t),a&&(o["pageSize"]=a),o},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(t=>{let s={...t};switch(s.title){case"View Attched Files":s.isVisible="ACT"==e.status_code||"EXP_SEND_FOR_CORRECTION"==e.status_code;break;case"Comments":s.isVisible=0!=e.filescount;break;case"Send For Correction":s.isVisible=0!=e.commentscount||"ACT"!=e.status_code;break;case"Approver Status":s.isVisible="ACT"==e.status_code||"EXP_SEND_FOR_CORRECTION"==e.status_code;break;default:s.isVisible=!0}a.push(s)}),a},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchData()},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.ExpenseApprovaHistorylData?this.ViewHistoryList():this.FetchData()},actionButtonClick:function(e,t){switch(e){case"Edit":break;case"openAddNewEvent":this.openAddNewEvent(t);break;case"SendForCorrection":this.commonApproval("EXP_SEND_FOR_CORRECTION");break;case"ApproverStatus":this.ApproverStatus(t);break;case"downloadAttachment":this.OpenFileModal(t);break}},CloseExpenseAttachments:function(){this.showFileModal=!1},sortdata:function(e){var t="sort tb_headerSortDown";this.SortBy=e,e===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",t="sort tb_headerSortUp"):(this.SortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),$("#"+e+"  span:first-child").attr("class",t)},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"setTourGuideSteps":this.setTourGuideSteps(0);break;case"SendForApprovalApprove":this.commonApproval("EXP_APPROVED");break;case"SendForApprovalReject":this.commonApproval("EXP_REJECTED");break;case"ViewHistory":this.ViewHistoryList();break}},ViewHistoryList:function(){this.$router.push({name:"ExpenseHistory"})},CloseExpenseComments:function(){this.showCommentModal=!1},commonApproval:function(e){var t=this;t.CommentHeader=`Comment for ${t.UserName} Expense Approval`,t.isSingleCommentforMultipleExpenses=1;for(var a=$("input.chkItems:checked"),s="",i=0;i<a.length;i++){var n=$(a[i]).val(),o=0,l=0,r=0;""==o&&(o=0),s=0==i?n+"$"+o+"$"+l+"$"+r+"$":s+","+n+"$"+o+"$"+l+"$"+r+"$",1}t.showCommentModal=!0,t.expid=s,t.statuscode=e,this.visibility=1,this.access=1},openAddNewEvent:function(e){this.CommentHeader="Comment",this.isSingleCommentforMultipleExpenses=0,this.showCommentModal=!0,this.statuscode=null,this.expid=e.EXPENSEID,this.visibility=1,this.access=0},OpenFileModal:function(e){this.showFileModal=!0,this.expid=e.EXPENSEID,this.statuscode=e.status_code},ApproverStatus:function(e){this.showApproverStatusModal=!0,this.expid=e.EXPENSEID},CloseExpenseApproverStatus:function(){this.showApproverStatusModal=!1}}},E=x,y=Object(g["a"])(E,s,i,!1,null,null,null);t["default"]=y.exports},"4be5":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".vti__input,.vue-tel-input{border-radius:0}",""]),e.exports=t},"4e8b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"main-content"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 padding-t_8"},[t("div",{staticClass:"theme-primary partition-full"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("ManageExpense")))]),t("span",{staticClass:"float-right"},[t("a",{staticClass:"p-action-btn text-white",attrs:{href:"javascript:;",title:"Page Tour"},on:{click:function(t){return e.setTourGuideSteps(0)}}},[t("em",{staticClass:"fa fa-road",attrs:{"aria-hidden":"true"}}),t("br"),e._v(e._s(e.$t("PageTour"))+" ")])])])])])]),t("div",{staticClass:"border p-3"},[t("Form",{ref:"Expenseform",scopedSlots:e._u([{key:"default",fn:function({valid:a,errors:s}){return[t("DynamicForm",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{"on-submit":e.onSubmit,"on-invalid-submit":e.onSubmit}})]}}])})],1)],1)},i=[],n=(a("14d9"),a("9769")),o=function(){var e=this,t=e._self._c;return t("div",e._l(e.schema,(function(a,s){return t("div",{key:s,staticClass:"row"},[t("div",{staticClass:"clearfix"}),t("div",{staticClass:"col-lg-12 mb-3"},[t("div",{staticClass:"heading-border mt-2"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.GetGroupName(a.group_display_name,a.group_name)))])])])]),e._l(a.Data,(function(s,i){return t("div",{directives:[{name:"show",rawName:"v-show",value:"CRM_QUOTES"==e.subModuleCode?1==s.dependent_show_type&&"deal_id"!=s.name||1==s.dependent_show_type&&"deal_id"==s.name&&2==e.selectedQuotationType:1==s.dependent_show_type,expression:"subModuleCode=='CRM_QUOTES'?((field.dependent_show_type == 1 && field.name != 'deal_id') || (field.dependent_show_type == 1 && field.name == 'deal_id' && selectedQuotationType == 2)):(field.dependent_show_type == 1)"}],key:i,class:{"col-sm-12 col-md-12 float-left":!0,"d-none":"NO"==s.form_field_visibility||"CRM_SALES_ORDERS"!=e.subModuleCode&&"CRM_INVOICE"!=e.subModuleCode&&("CRM_PURCHASE_ORDERS"!=e.subModuleCode&&"template_id"==s.name),referredby:"referred_by"==s.name,campaignname:"campaign_id"==s.name,"col-lg-12 col-xl-12":"single"==s.layout_type,"col-lg-6 col-xl-6":"double"==s.layout_type||"quotation_type"==s.name,"col-lg-4 col-xl-4":"triple"==s.layout_type,"col-lg-3 col-xl-3":"four"==s.layout_type&&"quotation_type"!=s.name},attrs:{id:s.name}},["YES"==s.form_field_visibility?t("div",{staticClass:"form-group"},[2==e.selectedQuotationType||"deal_id"!=s.name||1==s.dependent_show_type?t("label",[e._v(e._s(e.GetFormSchemaFieldName(s.name,s.display_name))+": "),s.is_required?t("span",{class:{"text-danger":!0}},[e._v("*")]):e._e()]):e._e(),e.isBlank(s.user_guide)||2!=e.selectedQuotationType&&"deal_id"==s.name?e._e():t("a",{directives:[{name:"popover",rawName:"v-popover:tooltip",value:e.$t(s.user_guide),expression:"$t(field.user_guide)",arg:"tooltip"}],attrs:{href:"javascript:;",tabindex:-1}},[t("em",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14px"}})]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 float-left"},[t("div",{class:{"input-group":"CKEditorField"!=s.astype}},[t(s.astype,{tag:"component",attrs:{fieldInfo:s,odnumber:e.odnumber,DependentOption:e.DependentOption,subModuleCode:e.subModuleCode,selectedQuotationType:e.selectedQuotationType,dateformat:e.dateformat},on:{FillDropdown:e.FillDropdown,openaddIndustrypopup:e.openaddIndustrypopup,openaddRoleTitlepopup:e.openaddRoleTitlepopup,openaddLeadSourcepopup:e.openaddLeadSourcepopup,onchangechannel:function(t){return e.onchangechannel(s,a.Data)},AssignToggleValues:e.AssignToggleValues,setSelectedValue:e.setSelectedValue,showDependentItem:e.showDependentItem,setDependentDate:e.setDependentDate,onchangeForNormalDDL:e.onchangeForNormalDDL,onChange:e.onChange,onSearchDDL:e.onSearchDDL,onBlur:e.onBlur}})],1)])])]):e._e()])}))],2)})),0)},l=[],r=a("8091"),c=function(){var e=this,t=e._self._c;return e.showDropDown()?t("div",{staticClass:"w-100 d-flex"},[t("Field",{staticClass:"w-100",attrs:{rules:e.getRuleObj(),name:e.GetFormSchemaFieldName(e.fieldInfo.name,e.fieldInfo.display_name)},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:e.fieldInfo.value,expression:"fieldInfo.value"}],class:{"form-control w-100":!0,"is-invalid":a[0]},attrs:{name:e.fieldInfo.name,disabled:e.getDisabledStatus()},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.fieldInfo,"value",t.target.multiple?a:a[0])},function(t){return e.onchangeDDL(t,e.fieldInfo)}]}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Select")]),e._l("Lookup"!=e.fieldInfo.picklist_options?e.MakeArray(e.fieldInfo.picklist_options):e.MakeNormalArray(e.fieldInfo.select_options),(function(a,s){return t("option",{key:s,domProps:{value:a.value,selected:e.fieldInfo.value==a.value}},[e._v(e._s(a.name))])}))],2),t("span",{staticClass:"invalid-feedback d-block",attrs:{name:e.fieldInfo.name}},[e._v(e._s(a[0]))])]}}],null,!1,620020461)}),e.fieldInfo.isPlusIcon?t("div",{staticClass:"ml-2 mt-1"},[t("a",{staticClass:"round-icon-small btn-dark theme-primary"},["industry_type_id"==e.fieldInfo.name?t("em",{staticClass:"fa fa-plus text-white pt-7 font-18",on:{click:function(t){return e.openaddIndustrypopup(e.fieldInfo)}}}):e._e(),"channel_id"==e.fieldInfo.name||"lead_source_id"==e.fieldInfo.name?t("em",{staticClass:"fa fa-plus text-white pt-7 font-18",on:{click:function(t){return e.openaddLeadSourcepopup(e.fieldInfo)}}}):e._e(),"role_title_id"==e.fieldInfo.name?t("em",{staticClass:"fa fa-plus text-white pt-7 font-18",on:{click:function(t){return e.openaddRoleTitlepopup(e.fieldInfo)}}}):e._e(),"industry_name"==e.fieldInfo.name?t("em",{staticClass:"fa fa-plus text-white pt-7 font-18",on:{click:function(t){return e.openaddIndustrypopup(e.fieldInfo)}}}):e._e()])]):e._e()],1):e._e()},d=[],u={props:{fieldInfo:{type:Object,required:!0},selectedQuotationType:null,subModuleCode:null,odnumber:null},data:function(){return{}},methods:{showDropDown(){var e=!1;return("Lookup"==this.fieldInfo.picklist_options&&"select"==this.fieldInfo.dt_code&&"normal"==this.fieldInfo.dropdown_type||"Lookup"!=this.fieldInfo.picklist_options&&"select"==this.fieldInfo.dt_code)&&(e=!0),e},getRuleObj(){var e={};return"Lookup"==this.fieldInfo.picklist_options&&"select"==this.fieldInfo.dt_code&&"normal"==this.fieldInfo.dropdown_type?"CRM_QUOTES"==this.subModuleCode?e.required="deal_id"==this.fieldInfo.name||"client_id"==this.fieldInfo.name?(2==this.selectedQuotationType&&"deal_id"==this.fieldInfo.name||1==this.selectedQuotationType&&"client_id"==this.fieldInfo.name)&&this.fieldInfo.is_required:this.fieldInfo.is_required:e.required=this.fieldInfo.is_required:"Lookup"!=this.fieldInfo.picklist_options&&"select"==this.fieldInfo.dt_code&&(e.required=this.fieldInfo.is_required),e},getDisabledStatus(){var e=!1;return"CRM_QUOTES"==this.subModuleCode?e="deal_id"==this.fieldInfo.name&&this.$route.params.reqFromId&&"0"!=this.$route.params.reqFromId||"Drafted"==this.odnumber:"ManageAccount"==this.subModuleCode&&(e="account_type"==this.fieldInfo.name),e},openaddIndustrypopup:function(e){this.$emit("openaddIndustrypopup",e)},openaddLeadSourcepopup:function(e){this.$emit("openaddLeadSourcepopup",e)},openaddRoleTitlepopup:function(e){this.$emit("openaddRoleTitlepopup",e)},onchangechannel(e){this.$emit("onchangechannel",e)},FillDropdown(e){this.$emit("FillDropdown",e)},onchangeForNormalDDL(e){this.$emit("onchangeForNormalDDL",e)},onChange(e){this.$emit("onChange",e)},onchangeDDL(e,t){"CRM_PRICE_BOOKS"==this.subModuleCode?this.$emit("onchangeForNormalDDL",t):"Account"==this.subModuleCode||"CRM_LEADS"==this.subModuleCode?this.$emit("FillDropdown",t):"Lookup"!=this.fieldInfo.picklist_options||"select"!=this.fieldInfo.dt_code||"normal"!=this.fieldInfo.dropdown_type||"CRM_QUOTES"==this.subModuleCode&&2!=this.selectedQuotationType?"Lookup"==this.fieldInfo.picklist_options||"select"!=this.fieldInfo.dt_code||null!=this.fieldInfo.dropdown_type&&"display_icon"!=this.fieldInfo.name||this.$emit("onChange",t):this.$emit("onchangechannel",t)}},created(){console.log(this.subModuleCode)}},p=u,f=a("2877"),m=Object(f["a"])(p,c,d,!1,null,null,null),h=m.exports,v=function(){var e=this,t=e._self._c;return e.showField(e.fieldInfo)?t("Field",{staticClass:"w-100",attrs:{name:e.GetFormSchemaFieldName(e.fieldInfo.label,e.fieldInfo.display_name),rules:e.getRuleObj()},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldInfo.value,expression:"fieldInfo.value"}],class:{"form-control w-100":!0,"is-invalid":a[0]},attrs:{name:e.fieldInfo.name,id:e.fieldInfo.name,type:"text",placeholder:e.GetFieldPlaceHolder(e.fieldInfo.label,e.fieldInfo.display_name),disabled:"spouse_name"==e.fieldInfo.name&&e.fieldInfo.disabled},domProps:{value:e.fieldInfo.value},on:{input:function(t){t.target.composing||e.$set(e.fieldInfo,"value",t.target.value)}}}),t("span",{staticClass:"invalid-feedback",attrs:{name:e.fieldInfo.name}},[e._v(e._s(a[0]))])]}}],null,!1,4111749399)}):t("div",{staticClass:"form-control bg-grey"},[e._v(e._s(e.fieldInfo.value))])},C=[],g={props:{fieldInfo:{type:Object,required:!0}},data:function(){return{}},methods:{showField:function(e){return"gin_number"!=e.name&&"order_number"!=e.name},getRuleObj(){var e={};return e.required=this.fieldInfo.is_required,e.email="email"==this.fieldInfo.validation_type,e.url="url"==this.fieldInfo.dt_code||"url"==this.fieldInfo.validation_type,e.numeric="employees"==this.fieldInfo.name,"commission_percentage"==this.fieldInfo.name&&(e.regex=/^\s*(?=.*[1-9])\d*(?:\.\d{1,2})?\s*$/,e.between=[0,100]),"account_zip_code"==this.fieldInfo.name?(e.regex=/^[a-zA-Z0-9 ]*$/,e.min=[5],e.max=[15]):this.fieldInfo.length&&(e.max=[this.fieldInfo.length]),e}}},_=g,b=Object(f["a"])(_,v,C,!1,null,null,null),x=b.exports,E=function(){var e=this,t=e._self._c;return t("Field",{staticClass:"w-100",attrs:{name:e.GetFormSchemaFieldName(e.fieldInfo.name,e.fieldInfo.display_name),rules:{required:e.fieldInfo.is_required}},scopedSlots:e._u([{key:"default",fn:function({errors:a,changed:s}){return[t("v-date-picker",{staticClass:"input-group w-100",staticStyle:{"flex-wrap":"nowrap"},attrs:{popover:e.popover,"min-date":e.getMinmumDate(e.fieldInfo),"max-date":e.getMaxDate(e.fieldInfo),"minute-increment":5},on:{dayclick:function(t){return e.setDependentDate(t,e.fieldInfo)},"update:modelValue":s},scopedSlots:e._u([{key:"default",fn:function({inputValue:s,inputEvents:i,togglePopover:n}){return[t("input",e._g({class:{"form-control w-100":!0,"is-invalid":a[0]},attrs:{placeholder:e.GetFieldPlaceHolder(e.fieldInfo.name,e.fieldInfo.display_name)},domProps:{value:s}},i)),t("div",{staticClass:"input-group-append",on:{click:function(e){return n()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.fieldInfo.value,callback:function(t){e.$set(e.fieldInfo,"value",t)},expression:"fieldInfo.value"}}),t("span",{staticClass:"invalid-feedback d-block",attrs:{name:e.fieldInfo.name}},[e._v(e._s(a[0]))])]}}])})},y=[],S={props:{fieldInfo:{type:Object,required:!0},dateformat:{type:String,required:!1},DependentOption:null},created:function(){console.log(this.DependentOption)},data:function(){return{popover:{visibility:"click"}}},methods:{setDependentDate:function(e,t){var a=this;setTimeout((function(){var e=$(`div[name="${a.fieldInfo.name}"]`),t=$(`div[name="${a.fieldInfo.name}"] input:first`),s=e.attr("value");s?(t.removeClass("is-invalid"),t.parent().parent().find(`span[name='${a.fieldInfo.name}']`).removeClass("d-block").addClass("d-none")):(t.addClass("is-invalid"),t.parent().next().is("span")?t.parent().next().removeClass("d-none"):t.parent().parent().append(`<span name="${a.fieldInfo.name}" class="invalid-feedback d-block">${a.GetFormSchemaFieldName(a.fieldInfo.name,a.fieldInfo.display_name)} is required.</span>`))}),200),this.$emit("setDependentDate",t)},getMinmumDate(e){return"campaign_end_date"==e.name||"order_expiry_date"==e.name||"contract_end_date"==e.name||"CRM_CONTRACTS"!=this.$route.params.subModuleCode&&"billing_end_date"==e.name||"effective_end_date"==e.name||"expected_close_date"==e.name?this.DependentOption[0].minDate:"campaign_actual_end_date"==e.name||"billing_end_date"==e.name?this.DependentOption[1].minDate:"order_date"==e.name||"contract_start_date"==e.name||"billing_start_date"==e.name||"effective_start_date"==e.name||"ref_date"==e.name||"lead_date"==e.name||"date_of_birth"==e.name||"campaign_start_date"==e.name||"campaign_actual_start_date"==e.name?"01-01-1990":this.getMinDate()},getMaxDate(e){return"order_date"==e.name||"date_of_birth"==e.name?this.getMinDate():"01-01-2030"}}},A=S,w=(a("0ecc"),Object(f["a"])(A,E,y,!1,null,null,null)),k=w.exports,I=function(){var e=this,t=e._self._c;return t("Field",{attrs:{name:e.GetFormSchemaFieldName(e.fieldInfo.label,e.fieldInfo.display_name),rules:{required:!!e.fieldInfo.is_required},label:e.fieldInfo.name,type:"checkbox"},scopedSlots:e._u([{key:"default",fn:function({errors:a,touched:s,invalid:i}){return[e._l(e.checkOptions,(function(a){return t("label",{key:a},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],attrs:{type:"checkbox",name:a.name},domProps:{checked:Array.isArray(a.value)?e._i(a.value,null)>-1:a.value},on:{change:function(t){var s=a.value,i=t.target,n=!!i.checked;if(Array.isArray(s)){var o=null,l=e._i(s,o);i.checked?l<0&&e.$set(a,"value",s.concat([o])):l>-1&&e.$set(a,"value",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(a,"value",n)}}}),e._v(" "+e._s(a.name)+" ")])})),t("span",{staticClass:"invalid-feedback d-block"},[e._v(e._s(a[0]))])]}}])})},N=[],T={props:{fieldInfo:{type:Object,required:!0}},data:function(){return{checkOptions:[]}},methods:{},created:function(){var e=this,t=this.fieldInfo.picklist_options;if(null!=t&&void 0!=t&&""!=t){var a=t.split(",");a.forEach(t=>{e.checkOptions.push({name:t.split("|")[0],value:t.split("|")[1]})}),console.log(e.checkOptions)}}},D=T,M=Object(f["a"])(D,I,N,!1,null,null,null),L=M.exports,P=function(){var e=this,t=e._self._c;return"radio"==e.fieldInfo.dt_code&&2==e.MakeArray(e.fieldInfo.picklist_options,e.fieldInfo.dt_code).length?t("div",{staticClass:"form-group"},[t("label",{staticClass:"switch"},[t("Field",{attrs:{name:e.GetFormSchemaFieldName(e.fieldInfo.name,e.fieldInfo.display_name),rules:{required:e.fieldInfo.is_required},slim:""},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("input",{staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{type:"checkbox",name:e.fieldInfo.name,disabled:e.fieldInfo.is_Disabled,tabindex:"5"},domProps:{value:e.fieldInfo.value,checked:e.isChekedToggle()},on:{change:function(t){e.AssignToggleValues(t,e.fieldInfo,e.MakeArray(e.fieldInfo.picklist_options,e.fieldInfo.dt_code))}}})]}}],null,!1,3138955057)}),t("span",{staticClass:"slider round"},[t("span",{staticClass:"slider-yes"},[e._v(e._s(e.MakeArray(e.fieldInfo.picklist_options,e.fieldInfo.dt_code)[0].name))]),t("span",{staticClass:"slider-no"},[e._v(e._s(e.MakeArray(e.fieldInfo.picklist_options,e.fieldInfo.dt_code)[1].name))])])],1)]):"radio"==e.fieldInfo.dt_code&&e.MakeArray(e.fieldInfo.picklist_options,e.fieldInfo.dt_code).length>2?t("div",{staticClass:"form-control pl-0 border-0 bg-transparent"},e._l(e.MakeArray(e.fieldInfo.picklist_options,e.fieldInfo.dt_code),(function(a){return t("div",{staticClass:"form-check form-check-inline"},[t("div",{key:a.name,staticClass:"custom-control custom-radio custom-control-inline"},[t("Field",{attrs:{name:e.GetFormSchemaFieldName(e.fieldInfo.name,e.fieldInfo.display_name),rules:{required:e.fieldInfo.is_required}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldInfo.value,expression:"fieldInfo.value"}],staticClass:"dynamic form-check-input custom-control-input",attrs:{id:"rdo_"+e.fieldInfo.custom_field_id+"_"+a.value,name:e.fieldInfo.name,"data-resource":a.name,type:"radio",disabled:e.fieldInfo.is_Disabled},domProps:{value:a.value,checked:a.value==e.fieldInfo.value,checked:e._q(e.fieldInfo.value,a.value)},on:{change:[function(t){return e.$set(e.fieldInfo,"value",a.value)},function(t){return e.showDependentItem(e.fieldInfo,a.value)}]}}),t("label",{staticClass:"custom-control-label universalradio-custom-control-label dynamic",attrs:{for:"rdo_"+e.fieldInfo.custom_field_id+"_"+a.value}},[e._v(e._s(a.name))]),t("span",{staticClass:"invalid-feedback",attrs:{name:e.fieldInfo.name}},[e._v(e._s(s[0]))])]}}],null,!0)})],1)])})),0):e._e()},O=[],R={props:{fieldInfo:{type:Object,required:!0}},data:function(){return{checkOptions:[]}},methods:{AssignToggleValues:function(e,t,a){this.$emit("AssignToggleValues",e,t,a)},showDependentItem:function(e,t){this.$emit("showDependentItem",e,t)},isChekedToggle(){if("gender"==this.fieldInfo.name){if("M"==this.fieldInfo.value||"Male"==this.fieldInfo.value)return!0}else if("gin_inward_type"==this.fieldInfo.name&&"Asset"==this.fieldInfo.value)return!0}}},F=R,V=Object(f["a"])(F,P,O,!1,null,null,null),U=V.exports,B=function(){var e=this,t=e._self._c;return t("ckeditor",{staticStyle:{height:"400px"},attrs:{editor:e.editor},on:{ready:e.onReady}})},j=[],G=a("fb3d"),q=a.n(G),H={props:{fieldInfo:{type:Object,required:!0}},data:function(){return{editor:q.a,content:"<h1>Some initial content</h1>"}},methods:{onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}}},Y=H,z=Object(f["a"])(Y,B,j,!1,null,null,null),K=z.exports,X=function(){var e=this,t=e._self._c;return t("div",[t("Multiselect",{ref:"multiselect",staticClass:"form-control",attrs:{options:e.options,mode:"tags",noOptionsText:"Type To Search","close-on-select":!1,searchable:!0,"create-option":!0},on:{input:e.onChange,click:e.onClick,close:e.onTouch,select:e.onSelect},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isInvalid,expression:"isInvalid"}]},[e._v("Must have at least one value")])],1)},W=[],Q={props:{fieldInfo:{type:Object,required:!0}},data:function(){return{isTouched:!1,value:[],selectedHtml:"",options:""==this.fieldInfo.select_options||null==this.fieldInfo.select_options?[]:JSON.parse(this.fieldInfo.select_options).map(e=>{const t={};return t.label=e.name,t.value=e.value,t})}},computed:{isInvalid(){return this.isTouched&&0===this.value.length}},methods:{onChange(e){this.value=e,-1!==e.indexOf("Reset me!")&&(this.value=[])},onSelect(e){"Disable me!"===e&&(this.isDisabled=!0)},onClick(){""!=this.selectedHtml&&(this.$refs.multiselect.$el.getElementsByClassName("multiselect-tags")[0].innerHTML="",this.$refs.multiselect.$el.getElementsByClassName("multiselect-tags")[0].innerHTML=this.selectedHtml)},onTouch(){this.isTouched=!0,this.selectedHtml=this.$refs.multiselect.$el.getElementsByClassName("multiselect-tags")[0].innerHTML;var e=this.value.length;this.$refs.multiselect.$el.getElementsByClassName("multiselect-tags")[0].innerHTML="",this.$refs.multiselect.$el.getElementsByClassName("multiselect-tags")[0].innerHTML=`<div class="multiselect-multiple-label">${e} selected</div>`}}},J=Q,Z=(a("84e8"),Object(f["a"])(J,X,W,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e._self._c;return t("div",[t("Toggle",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},ae=[],se=a("a04f"),ie={components:{Toggle:se["a"]},data(){return{value:!0}}},ne=ie,oe=(a("8542"),Object(f["a"])(ne,te,ae,!1,null,null,null)),le=oe.exports,re=function(){var e=this,t=e._self._c;return t("Field",{staticClass:"w-100",attrs:{name:e.GetFormSchemaFieldName(e.fieldInfo.name,e.fieldInfo.display_name),rules:{required:e.fieldInfo.is_required}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("vue-tel-input",{staticClass:"w-100",attrs:{mode:"international",validCharactersOnly:!0},on:{input:e.onInput},model:{value:e.fieldInfo.value,callback:function(t){e.$set(e.fieldInfo,"value",t)},expression:"fieldInfo.value"}}),t("span",{staticClass:"invalid-feedback d-block",attrs:{name:e.fieldInfo.name}},[e._v(e._s(a[0]))]),e.phoneError?t("span",{staticClass:"invalid-feedback d-block"},[e._v("Enter valid number.")]):e._e()]}}])})},ce=[],de={props:{fieldInfo:{type:Object,required:!0}},data:function(){return{phoneError:!1}},methods:{onInput(e,t){e&&(t&&(null===t||void 0===t?void 0:t.formatted.length)>0&&(null===t||void 0===t||!t.valid||void 0==(null===t||void 0===t?void 0:t.valid))?this.phoneError=!0:null!==t&&void 0!==t&&t.formatted&&null!==t&&void 0!==t&&t.valid&&(e=t.formatted,this.fieldInfo.value=t.formatted,this.phoneError=!1))}}},ue=de,pe=(a("46ca"),Object(f["a"])(ue,re,ce,!1,null,null,null)),fe=pe.exports,me=function(){var e=this,t=e._self._c;return t("Field",{staticClass:"w-100",attrs:{name:e.GetFormSchemaFieldName(e.fieldInfo.name,e.fieldInfo.display_name),rules:{required:e.fieldInfo.is_required}},scopedSlots:e._u([{key:"default",fn:function({errors:a,changed:s}){return[t("Multiselect",{class:{"w-100":!0,"is-invalid":a[0]},attrs:{placeholder:e.GetFieldPlaceHolder(e.fieldInfo.label,e.fieldInfo.display_name,"select"),disabled:"account_id"==e.fieldInfo.name&&e.$route.params.reqFromId&&"0"!=e.$route.params.reqFromId||"Drafted"==e.odnumber,"filter-results":!1,object:!0,label:"name",searchable:!0,"track-by":"value","show-labels":!1,"show-no-results":!1,"internal-search":!1,loading:e.isLoading,"clear-on-select":!1,"close-on-select":!0,options:e.fieldInfo.select_options},on:{select:function(t){return e.setSelectedValue(e.fieldInfo,t)},"update:modelValue":s,"search-change":function(t){return e.onSearchDDL(t,e.fieldInfo)}},model:{value:e.fieldInfo.value,callback:function(t){e.$set(e.fieldInfo,"value",t)},expression:"fieldInfo.value"}}),t("span",{staticClass:"invalid-feedback d-block",attrs:{name:e.fieldInfo.name}},[e._v(e._s(a[0]))])]}}])})},he=[],ve={props:{fieldInfo:{type:Object,required:!0},odnumber:null,selectedQuotationType:null},data:function(){return{isLoading:!1,language:"Robin"}},created(){""==this.fieldInfo.select_options&&(this.fieldInfo.select_options=[])},updated(){console.log(this.fieldInfo)},methods:{getRuleObj(){var e={};return 1!=this.selectedQuotationType&&"client_id"==this.fieldInfo.name?e.required=!1:e.required=this.fieldInfo.is_required,e},setSelectedValue:function(e,t,a,s){this.$emit("setSelectedValue",e,t,a,s)},onSearchDDL:function(e,t,a){this.$emit("onSearchDDL",e,t,a)},onSearch:async function(e,t){var a=this;a.isLoading=!0,"undefined"==typeof t&&(t=0);var s="id=&moduleName=CRM&type="+a.fieldInfo.field_code+"&search="+escape(e);"fill"==a.fieldInfo.dependent_type&&(s+="&refId="+t),await n["a"].getLeaOwnerBySearch(s).then((function(e){a.isLoading=!1;var t=e.data;null!=t&&""!=t&&(a.fieldInfo.select_options=t.DATA)}))}}},Ce=ve,ge=(a("b879"),Object(f["a"])(Ce,me,he,!1,null,null,null)),_e=ge.exports,be=function(){var e=this,t=e._self._c;return t("Field",{staticClass:"w-100",attrs:{name:e.GetFormSchemaFieldName(e.fieldInfo.name,e.fieldInfo.display_name),rules:{required:e.fieldInfo.is_required}},scopedSlots:e._u([{key:"default",fn:function({errors:a,touched:s,invalid:i}){return[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.fieldInfo.value,expression:"fieldInfo.value"}],class:{"form-control w-100":!0,"is-invalid":s&&i},attrs:{cols:"5",placeholder:e.GetFieldPlaceHolder(e.fieldInfo.name,e.fieldInfo.display_name)},domProps:{value:e.fieldInfo.value},on:{input:function(t){t.target.composing||e.$set(e.fieldInfo,"value",t.target.value)}}}),e._v(" "),t("span",{staticClass:"invalid-feedback",attrs:{name:e.fieldInfo.name}},[e._v(e._s(a[0]))])]}}])})},xe=[],Ee={name:"text-input",props:{fieldInfo:{type:Object,required:!0}},data:function(){return{}},methods:{}},ye=Ee,Se=Object(f["a"])(ye,be,xe,!1,null,null,null),Ae=Se.exports,we=function(){var e=this,t=e._self._c;return t("Field",{staticClass:"w-100",attrs:{name:e.fieldInfo.name,rules:{colorCode:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("input",{class:{"form-control":!0,"is-invalid":a[0]},attrs:{type:"text",name:e.fieldInfo.name},domProps:{value:e.fieldInfo.value}}),t("vue2-color-picker",{model:{value:e.fieldInfo.value,callback:function(t){e.$set(e.fieldInfo,"value",t)},expression:"fieldInfo.value"}}),a[0]?t("span",{staticClass:"invalid-feedback",attrs:{name:e.fieldInfo.name}},[e._v(e._s(a[0]))]):e._e()]}}])})},ke=[],Ie={props:{fieldInfo:{type:Object,required:!0}},data:function(){return{color:"#000000"}},created(){this.fieldInfo.value=this.fieldInfo.value?this.fieldInfo.value:"#000000"}},Ne=Ie,Te=Object(f["a"])(Ne,we,ke,!1,null,null,null),De=Te.exports,Me={name:"DynamicForm",components:{NumericField:r["a"],SelectField:h,TextField:x,DateField:k,CheckBoxField:L,RadioField:U,CKEditorField:K,MultiSelectField:ee,ToggleField:le,PhoneField:fe,CustomSelectField:_e,TextAreaField:Ae,ColorField:De},props:{schema:{type:Array,required:!0},dateformat:{type:String,required:!1},selectedQuotationType:null,odnumber:null,subModuleCode:null,DependentOption:null},methods:{onBlur(e){this.$emit("onBlur",e)},GetGroupName:function(e,t){return e?this.$t(e):this.$t(t)},openaddIndustrypopup:function(e){this.$emit("openaddIndustrypopup",e)},openaddRoleTitlepopup:function(e){this.$emit("openaddRoleTitlepopup",e)},openaddLeadSourcepopup:function(e){this.$emit("openaddLeadSourcepopup",e)},onchangechannel:function(e,t){this.$emit("onchangechannel",e,t)},AssignToggleValues:function(e,t,a){this.$emit("AssignToggleValues",e,t,a)},setSelectedValue:function(e,t,a,s){this.$emit("setSelectedValue",e,t,a,s)},showDependentItem:function(e,t){this.$emit("showDependentItem",e,t)},setDependentDate:function(e){this.$emit("setDependentDate",e)},FillDropdown(e){this.$emit("FillDropdown",e)},onchangeForNormalDDL(e){this.$emit("onchangeForNormalDDL",e)},onChange(e){this.$emit("onChange",e)},onSearchDDL:function(e,t,a){this.$emit("onSearchDDL",e,t,a)}},updated(){$('[data-toggle="popover"]').popover()}},Le=Me,Pe=(a("b1a9"),Object(f["a"])(Le,o,l,!1,null,null,null)),Oe=Pe.exports,$e={components:{DynamicForm:Oe},data(){return{isLoading:!1,showFileModal:!1,ShowTripModel:!1,ShowTagModel:!1,CategoryDataddl:[],TaskDataddl:[],CurrencyNameddl:[],TagDataddl:[],usertype:null,ExpenseId:0,ProjectData:"",IsSendForApproval:null,file:[],fileCount:"",expid:"",txtAmountCode:"",Currency:null,chkStatus:"",TripData:[],FormSchema:[{layoutType:"four",Data:[{astype:"TextField",label:this.$t("ExpenseTitletext"),name:"ExpenseTitle",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"DateField",label:this.$t("ExpenseDate"),name:"ExpenseDate",value:"",placeholder:"M/D/YYYY",validationRules:"required",config:{format:"MM/DD/YYYY"}},{astype:"SelectField",label:this.$t("Header_Projects"),name:"ExpenseProject",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:this.onChangeDropdown},validationRules:"required"},{astype:"SelectField",label:this.$t("TagName"),name:"ExpenseTrip",value:"",placeholder:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenPopup},validationRules:""},{astype:"SelectField",label:"Category",name:"ExpenseCategory",value:"",placeholder:"",config:{options:[],showAddIcon:!1},validationRules:"required"},{astype:"SelectField",label:"Task",name:"ExpenseTask",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:function(e,t){}},validationRules:"required"},{astype:"NumericField",label:this.$t("Amount"),name:"ExpenseAmount",value:"",placeholder:"",validationRules:{required:!0},config:{onkeypress:this.ExpenseAmount}},{astype:"SelectField",label:this.$t("Currency"),name:"ExpenseCurrency",value:"",placeholder:"",config:{options:[],showAddIcon:!1},validationRules:"required"},{astype:"SelectField",label:this.$t("Tag"),name:"ExpenseTag",value:"",placeholder:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenPopup},validationRules:""}]},{group_name:"Attachment",layoutType:"four",Data:[{astype:"FileField",showLabel:!1,name:"ExpenseAttechment",value:"",placeholder:"",validationRules:"",FieldIndex:0,config:{onChange:this.setFile,showAddIcon:!0,onAddButtonClick:this.AddFileMore}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("ExpenseDescription"),name:"ExpenseDescription",value:"",placeholder:"",validationRules:"",config:{rows:5}}]}],buttons:[{type:"submit",class:"btn btn-warning",text:"<i class='fa fa-save pr-2'></i>Save Of Draft"},{type:"submit",class:"btn btn-success saveSendforApproval",text:"<i class='fa fa-paper-plane pr-2'></i>Save and Send for Approval"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.onCancel}]}},created:function(){this.GetProjectDDL(),this.GetTripNameDDL(),this.GetCategoryNameDDL(),this.GetCurrencyNameDDL(),this.GetTagNameDDL(),this.usertype=this.GetUserInfo.UserType,this.Currency=this.GetUserInfo.Currency.replace("(","").replace(")",""),this.FetchData()},methods:{AddFileMore:function(e,t){var a=this;a.FormSchema[1].Data.push({astype:"FileField",showLabel:!1,name:"ExpenseAttechment",value:"",placeholder:"",validationRules:"",FieldIndex:a.FormSchema[1].Data.length,config:{onChange:a.setFile,showAddIcon:!0,onAddButtonClick:a.RemoveFile,addIconBackground:"bg-danger",addIcon:"fa fa-times"}})},RemoveFile:function(e,t){var a=this,s=a.FormSchema[1].Data.findIndex(e=>e.FieldIndex===t.FieldIndex);s>-1&&a.FormSchema[1].Data.splice(s,1)},OpenPopup:function(e,t){"ExpenseTrip"==t.name?this.ShowTripModel=!0:this.ShowTagModel=!0},onChangeDropdown:function(e,t){this.ProjectData=e.target.value,this.GetTaskDDL(),this.GetCurrencyCode()},ViewFile:function(){this.showFileModal=!0,this.expid=this.$route.params.id},CloseExpenseAttachments:function(){this.showFileModal=!1},onCancel:function(){this.$router.push({name:"Expense"})},FetchData:function(e){var t=this;const a="ExpenseId="+t.$route.params.id;n["a"].GetExpenseByExpenseId(a).then(e=>{e.data.length>0&&(t.FormSchema[0].Data[0].value=e.data[0].EXPENSE_TITLE,t.FormSchema[0].Data[1].value=e.data[0].EXPENSE_DATE,t.FormSchema[0].Data[2].value=e.data[0].PROJECT_ID,t.FormSchema[0].Data[3].value=e.data[0].TRIP_ID,t.FormSchema[0].Data[4].value=e.data[0].EXPENSE_CATEGORY_ID,t.FormSchema[0].Data[5].value=e.data[0].TASK_ID,t.GetTaskDDL(),t.FormSchema[0].Data[6].value=e.data[0].EXPENSE_AMOUNT,t.FormSchema[0].Data[7].value=e.data[0].currency_id,t.FormSchema[2].Data[0].value=e.data[0].EXPENSE_DESCRIPTION,t.fileCount=e.data[0].FILE_COUNT,t.chkStatus=e.data[0].STATUS_ID)})},setFile:function(e){this.file.push(e.target.files[0])},onSubmit:function(e,t){var a=this,s=e.controlledValues,i={ExpenseId:void 0==a.ExpenseId?0:a.$route.params.id,ExpenseTitle:s.ExpenseTitle,TripId:s.ExpenseTrip,ProjectId:s.ExpenseProject,ExpDesc:s.ExpenseDescription,ExpAmount:s.ExpenseAmount,CategoryId:s.ExpenseCategory,TaskId:s.ExpenseTask,ExpAttachment:void 0==s.ExpenseAttechment?null:s.ExpenseAttechment,IsBulkUpload:0,CurrencyId:s.ExpenseCurrency,ExpDate:s.ExpenseDate,IsSendForApproval:"<i class='fa fa-paper-plane pr-2'></i>Save and Send for Approval"==t?1:0};const o=new FormData;o.append("postString",JSON.stringify(i)),o.append("files",a.file);for(var l=0;l<a.file.length;l++){let e=a.file[l];o.append("files["+l+"]",e)}a.$refs.Expenseform.validate().then(e=>{e.valid&&n["a"].SaveUpdateExpense(o).then(e=>{"100"==e.data.error&&(a.ShowAlert(a.$t("ExpenseAdd",[a.$t("Expense")]),"success",!0,a.$t("Alert")),this.$router.push({name:"Expense"}))})})},CloseExpenseTrip:function(){this.ShowTripModel=!1},CloseExpenseTag:function(){this.ShowTagModel=!1},GetProjectDDL:function(){var e=this,t="associated=no";n["a"].ExpenseGetProjectListing(t).then((function(t){e.FormSchema[0].Data[2].config.options=t.data})),e.GetTaskDDL(),e.GetCurrencyCode()},GetTripNameDDL:function(){var e=this;n["a"].GettTripListingddl().then((function(t){e.TripData=t.data,e.TripData.forEach((t,a)=>{e.FormSchema[0].Data[3].config.options.push({value:t.TRIP_ID,name:t.TRIP_NAME})})}))},GetCategoryNameDDL:function(){var e=this;n["a"].GettCategoryListingddl().then((function(t){e.CategoryDataddl=t.data,e.CategoryDataddl.forEach((t,a)=>{e.FormSchema[0].Data[4].config.options.push({value:t.EXPENSE_CATEGORY_ID,name:t.CATEGORY_NAME})})}))},GetTaskDDL:function(){var e=this,t="projectId="+e.FormSchema[0].Data[2].value;n["a"].GetTaskListingddl(t).then((function(t){e.TaskDataddl=t.data,e.TaskDataddl.forEach((t,a)=>{e.FormSchema[0].Data[5].config.options.push({value:t.task_id,name:t.task_name})})}))},GetCurrencyNameDDL:function(){var e=this;n["a"].GetCurrencyNameddl().then((function(t){e.CurrencyNameddl=t.data,e.CurrencyNameddl.forEach((t,a)=>{e.FormSchema[0].Data[7].config.options.push({value:t.CurrencyId,name:t.Currency})})}))},GetTagNameDDL:function(){var e=this,t="moduleName=Expenses";n["a"].GetTagNameddl(t).then((function(t){e.TagDataddl=t.data,e.TagDataddl.forEach((t,a)=>{e.FormSchema[0].Data[8].config.options.push({value:t.value,name:t.text})})}))},GetCurrencyCode:function(){var e=this,t=e.$t("Amount"),a="projectId="+e.ProjectData;n["a"].GetCurrencyCode(a).then((function(a){e.FormSchema[0].Data[6].label=t+"("+a.data+")"}))}}},Re=$e,Fe=Object(f["a"])(Re,s,i,!1,null,null,null);t["default"]=Fe.exports},"4eb6":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".multiselect{min-width:200px;border-radius:0!important;color:#303030!important;border-color:#abb5bf!important;min-height:34px;font-size:14px}",""]),e.exports=t},5333:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Attachments"))+" ")]),t("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(t){return e.CloseExpenseAttachments(e.event)}}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"listing"},[e.noRecordForTab?e._e():t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table dt-responsive nowrap mt-0",attrs:{id:"table-openactivities-content"}},[e._m(0),t("tbody",e._l(e.attachmentsData,(function(a,s){return t("tr",{key:s},[t("td",[e._v(e._s(s+1)+".")]),t("td",[e._v(e._s(a.EXPENSE_FILE_NAME))]),t("td",[t("a",{staticClass:"round-icon-small btn-primary-light",attrs:{title:"DownloadFile",href:"javascript:;"},on:{click:function(t){return e.downloadAttachment(a)}}},[t("i",{staticClass:"fa fa-download"})]),t("a",{staticClass:"round-icon-small btn-danger-light",attrs:{href:"javascript:;",title:"DeleteFile"},on:{click:function(t){return e.deleteAttachment(a)}}},[t("i",{staticClass:"fa fa-trash-o"})])])])})),0)])])]),e.noRecordForTab?t("div",{staticClass:"text-center text-danger p-4 border no-record"},[e._v(e._s(e.$t("NoRecordfound")))]):e._e()])])])])],1)},i=[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v("#")])]),t("th",[t("span",[e._v("FileName")])]),t("th",[t("span",[e._v("Action")])])])])}],n=a("9769"),o={props:{expenseid:{type:String,required:!0},code:{type:String,required:!0}},data:function(){return{isLoading:!1,attachmentsData:[],noRecordForTab:!1,statuscode:"",Expense_Id:""}},created:function(){this.statuscode=this.code,this.Expense_Id=this.expenseid,this.Fetchdata()},methods:{Fetchdata:function(){var e=this,t="expenseid="+e.expenseid;n["a"].GetExpenseFileList(t).then((function(t){e.isLoading=!0,t.data.length>0||""!=t.data?(e.attachmentsData=t.data.DATA,e.noRecordForTab=!1):(e.noRecordForTab=!0,e.attachmentsData=null,e.isLoading=!1),e.isLoading=!1}))},downloadAttachment:function(e){var t=this;t.isLoading=!0;var a=`fileId=${e.EXPENSE_ID}&filePath=${e.EXPENSE_FILE_PATH}&fileType=${e.CONTENT_TYPE}&fileName=${e.EXPENSE_FILE_NAME}&downloadType=single`;n["a"].downloadAttachment(a).then((function(a){t.isLoading=!1;var s=window.URL.createObjectURL(new Blob([a.data])),i=document.createElement("a");i.href=s,i.setAttribute("download",e.EXPENSE_FILE_NAME),document.body.appendChild(i),i.click()}))},deleteAttachment:function(e){var t=this;t.confirmR(this.$t("ConfirmDelete"),!0,this.$t("Delete")+"  "+this.$t("Attachment"),(function(){t.isLoading=!0;var a=`fileId=${e.EXPENSE_FILE_ID}&expId=${e.EXPENSE_ID}`;n["a"].DeleteAttachment(a).then((function(e){t.isLoading=!1,200==e.status&&(t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Attachment")]),"success",!0,t.$t("Alert")),t.Fetchdata())}))}))},CloseExpenseAttachments:function(e){this.$emit("CloseExpenseAttachments",e)}}},l=o,r=a("2877"),c=Object(r["a"])(l,s,i,!1,null,null,null);t["a"]=c.exports},"5fd1":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,'.arrow-solid-left:before{content:"\\f0dd";transform:rotate(89deg);display:inline-block;transition:transform .2s;transform-origin:right;position:absolute;right:3px;top:46%}.right-content-expand .arrow-solid-left:before{transform:rotate(271deg)!important;transition:transform .2s;transform-origin:left;right:1px}',""]),e.exports=t},"646c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"left-menu-tab new_tab"},[t("leftsearch",{attrs:{header:e.HeaderText,fields:e.SearchFields,modulename:e.ModuleName,for:"ExpenseReport"},on:{SetLeftSearch:e.SetActiveKey}})],1),t("div",{staticClass:"right-content"},[e._m(0),t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e._m(1),1==e.activeKey?t("div",{staticClass:"tab-pane active",class:{"active show":1==e.activeKey},attrs:{id:"ExpenseOverLimitReport"}},[t("div",{attrs:{id:"listing"}},[t("div",{staticClass:"col-md-12 p-0"},[t("form",{attrs:{id:"frmReport",method:"post",target:"iReport","asp-controller":"ReportCommon","asp-action":"ReportMain"}},[t("input",{attrs:{type:"hidden",id:"Projects",name:"projectIds",value:""}}),t("input",{attrs:{type:"hidden",id:"Categorys",name:"categoryIds",value:""}}),t("input",{attrs:{type:"hidden",id:"reportName",name:"reportName",value:"expenseoverlimit"}}),t("input",{attrs:{type:"hidden",id:"hdnmodulename",name:"moduleName",value:"Expense"}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Project"))+":")]),t("Multiselect",{attrs:{mode:"tags",placeholder:"Choose your Project","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,options:e.projects,"track-by":"value",object:!0,label:"label"},model:{value:e.projectId,callback:function(t){e.projectId=t},expression:"projectId"}})],1)]),t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Category"))+":")]),t("Multiselect",{attrs:{mode:"tags",placeholder:"Choose your Category","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,options:e.categories,"track-by":"value",label:"label",object:!0},model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})],1)]),t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("OverLimit"))+":")]),t("div",{staticClass:"custom-control custom-checkbox custom-control-inline w-100"},[t("input",{staticClass:"custom-control-input dynamic",attrs:{type:"checkbox",id:"chkoverlimit",name:"chkoverlimit",value:"1"},domProps:{checked:e.isexpenseOverLimit}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkoverlimit"}})])])]),t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Date"))+"(M/D/YYYY) :")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"input-group"},[t("v-date-picker",{staticClass:"input-group",attrs:{"minute-increment":5,attributes:e.attrs},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({class:{"form-control date":!0},attrs:{placeholder:"M/D/YYYY"},domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!1,3753009208),model:{value:e.dtFrom,callback:function(t){e.dtFrom=t},expression:"dtFrom"}})],1)]),t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"input-group"},[t("v-date-picker",{staticClass:"input-group",attrs:{"minute-increment":5,attributes:e.attrs},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({class:{"form-control date":!0},attrs:{placeholder:"M/D/YYYY"},domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!1,3753009208),model:{value:e.dtTO,callback:function(t){e.dtTO=t},expression:"dtTO"}})],1)])])])])]),t("div",{staticClass:"row flex-row-reverse mt-2"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success formbtn text-white mr-1",attrs:{href:"javascript:;",id:"aSearch",title:e.$t("Search"),name:"aSearch"},on:{click:e.onSearch}},[t("i",{staticClass:"fa fa-search pr-2"}),e._v(e._s(e.$t("Search")))]),t("a",{staticClass:"btn btn-danger formbtn widthhalf btnCancel",attrs:{href:"javascript:;",title:e.$t("Clear"),id:"aClear"},on:{click:e.onClear}},[t("i",{staticClass:"fa fa-close pr-2"}),e._v(e._s(e.$t("Clear")))])])])])]),t("div",{staticClass:"row placeholder"},[t("div",{staticClass:"col-md-12 p-0"},[e.parameter.length>0?t("ReportViewer",{attrs:{parameter:e.parameter,reportPath:e.reportPath}}):e._e()],1)])])]):e._e(),2==e.activeKey?t("div",{staticClass:"tab-pane",class:{"active show":2==e.activeKey},attrs:{id:"ExpenseReport"}},[t("ExpenseReport")],1):e._e(),3==e.activeKey?t("div",{staticClass:"tab-pane",class:{"active show":3==e.activeKey},attrs:{id:"reimbursementreport"}},[t("ExpenseReport")],1):e._e()])])])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"theme-primary partition p-actions-expand",staticStyle:{overflow:"visible"}},[t("span",{staticClass:"p-name text-white",attrs:{id:"spnreporttext"}}),t("span",{staticClass:"p-actions float-right"},[t("a",{staticClass:"p-action-btn text-white",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"ancshowmorefilter",title:"@Resources.Show @Resources.More @Resources.Filter"}},[t("i",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),t("br"),e._v("@Resources.Show @Resources.More @Resources.Filter")])]),t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("i",{staticClass:"fa fa-angle-up text-white"})])])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"expand-list"},[t("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[t("i",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])}],n=a("9769");let o=[{fieldName:"ExpenseOverLimit",fieldType:"anchor",fieldIcon:"fa fa-print clsexpense",href:"#ExpenseOverLimitReport",id:"aExpenseOverLimitReport",privilege:!0},{fieldName:"ExpenseReport",fieldType:"anchor",fieldIcon:"fa fa-file-text-o",href:"#ExpenseReport",id:"aExpenseReport",privilege:!0},{fieldName:"Reimbursements",fieldType:"anchor",fieldIcon:"fa fa-file-pdf-o",href:"#ReimbursementReport",id:"aReimbursementReport",privilege:!0}];var l={leftsearchSchema:o},r=function(){var e=this;e._self._c;return e._m(0)},c=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"600px"}},[t("div",{staticStyle:{width:"100%","min-height":"650px","margin-bottom":"0%",height:"auto"},attrs:{id:"viewer"}})])}],d=(a("14d9"),{props:{reportPath:null,parameter:null},data:function(){return{Token:null}},created:function(){this.Token=this.GetUserInfo.Token},mounted(){var e=this;console.log(e.parameter),setTimeout((function(){$("#viewer").boldReportViewer({reportServiceUrl:"http://localhost:12597/api/ReportViewer",reportPath:e.reportPath,processingMode:"Remote",parameters:e.parameter,reportServerUrl:"http://192.168.0.200/ReportServer",ajaxBeforeLoad:e.setReportToken})}),2e3)},methods:{setReportToken:function(e){e.headers.push({Key:"content-type",Value:"application/json;charset=UTF-8"}),e.headers.push({Key:"Authorization",Value:"Bearer "+this.Token})}}}),u=d,p=a("2877"),f=Object(p["a"])(u,r,c,!1,null,null,null),m=f.exports,h=a("05a5"),v=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"listing"}},[t("div",{staticClass:"col-md-12 p-0"},[t("form",{attrs:{id:"frmReport",method:"post",target:"iReport","asp-controller":"ReportCommon","asp-action":"ReportMain"}},[t("input",{attrs:{type:"hidden",id:"projectIds",name:"projectIds",value:""}}),t("input",{attrs:{type:"hidden",id:"categoryIds",name:"categoryIds",value:""}}),t("input",{attrs:{type:"hidden",id:"tripIds",name:"tripIds",value:""}}),t("input",{attrs:{type:"hidden",id:"userIds",name:"userIds",value:""}}),t("input",{attrs:{type:"hidden",id:"approverIds",name:"approverIds",value:""}}),t("input",{attrs:{type:"hidden",id:"statusIds",name:"statusIds",value:""}}),t("input",{attrs:{type:"hidden",id:"hdnmodulename",name:"moduleName",value:"Expense"}}),t("input",{attrs:{type:"hidden",id:"reportName",name:"reportName",value:"expensereport"}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Project"))+":")]),t("Multiselect",{attrs:{mode:"tags",placeholder:"Choose your Project","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,options:e.projects,"track-by":"value",object:!0,label:"label"},model:{value:e.projectId,callback:function(t){e.projectId=t},expression:"projectId"}})],1)]),t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Category"))+":")]),t("Multiselect",{attrs:{mode:"tags",placeholder:"Choose your Category","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,options:e.categories,"track-by":"value",label:"label",object:!0},model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})],1)]),t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Trip"))+":")]),t("Multiselect",{attrs:{mode:"tags",placeholder:"Choose your Trip","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,options:e.trips,"track-by":"value",label:"label",object:!0},model:{value:e.TripId,callback:function(t){e.TripId=t},expression:"TripId"}})],1)]),t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("User"))+":")]),t("Multiselect",{attrs:{mode:"tags",placeholder:"Choose your Trip","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,options:e.ProjectUser,"track-by":"value",label:"label",object:!0},model:{value:e.UserId,callback:function(t){e.UserId=t},expression:"UserId"}})],1)]),t("div",{staticClass:"col-lg-4"},["CA"==e.UserType?t("div",{staticClass:"form-group"},[t("label",[e._v("Approver:")]),t("Multiselect",{attrs:{mode:"tags",placeholder:"Choose your Trip","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,options:e.approve,"track-by":"value",label:"label",object:!0},model:{value:e.ApproverId,callback:function(t){e.ApproverId=t},expression:"ApproverId"}})],1):e._e()]),t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Status:")]),t("Multiselect",{attrs:{mode:"tags",placeholder:"Choose your Trip","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,options:e.status,"track-by":"value",label:"label",object:!0},model:{value:e.StatusId,callback:function(t){e.StatusId=t},expression:"StatusId"}})],1)]),e._m(0),t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Date:")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"input-group mb-2"},[t("v-date-picker",{staticClass:"input-group",attrs:{"minute-increment":5,attributes:e.attrs},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({class:{"form-control date":!0},attrs:{placeholder:"From"},domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:e.datepicker2,callback:function(t){e.datepicker2=t},expression:"datepicker2"}})],1)]),t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"input-group mb-2"},[t("v-date-picker",{staticClass:"input-group",attrs:{"minute-increment":5,attributes:e.attrs},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({class:{"form-control date":!0},attrs:{placeholder:"To"},domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)])])])]),t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v("GroupBy:")]),t("div",{staticClass:"pl-0 border-0"},[t("div",{staticClass:"custom-control custom-radio d-inline-block"},[t("input",{staticClass:"form-check-input",attrs:{"data-change-id":"no",name:"groupBy",id:"Project",checked:"checked",type:"radio",value:"Project"}}),t("label",{staticClass:"form-check-label",attrs:{for:"Project"}},[e._v(" "+e._s(e.$t("Project"))+" ")])]),t("div",{staticClass:"custom-control custom-radio d-inline-block"},[t("input",{staticClass:"form-check-input",attrs:{"data-change-id":"no",name:"groupBy",id:"Category",type:"radio",value:"Category"}}),t("label",{staticClass:"form-check-label",attrs:{for:"Category"}},[e._v(" "+e._s(e.$t("Category"))+" ")])]),t("div",{staticClass:"custom-control custom-radio d-inline-block"},[t("input",{staticClass:"form-check-input",attrs:{"data-change-id":"no",name:"groupBy",id:"Trip",type:"radio",value:"Trip"}}),t("label",{staticClass:"form-check-label",attrs:{for:"Trip"}},[e._v(" "+e._s(e.$t("Trip"))+" ")])])])])])]),e._m(1)])]),t("div",{staticClass:"row placeholder"},[t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticStyle:{"box-sizing":"border-box","-webkit-overflow-scrolling":"touch!important","text-align":"center !important",width:"100% !important",display:"none"},attrs:{id:"dvMainReportPanel"}},[e.parameter.length>0?t("ReportViewer",{attrs:{parameter:e.parameter,reportPath:e.reportPath}}):e._e()],1)])])])},C=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Title:")]),t("input",{staticClass:"form-control",attrs:{type:"text",name:"ExpenseTitle",id:"ExpenseTitle"}}),t("span",{staticClass:"valid-feedback",attrs:{"data-valmsg-for":"ExpenseTitle","data-valmsg-replace":"true"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"row flex-row-reverse mt-2"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success formbtn text-white",attrs:{href:"javascript:;",id:"aSearch",title:"@Resources.Search",name:"aSearch"}},[t("i",{staticClass:"fa fa-search pr-2"}),e._v("Search")]),t("a",{staticClass:"btn btn-danger formbtn widthhalf btnCancel",attrs:{href:"javascript:;",title:"@Resources.Clear",id:"aClear"}},[t("i",{staticClass:"fa fa-close pr-2"}),e._v("Clear")])])])}],g={data:function(){return{trips:[],categories:[],projects:[],status:[],ModuleName:"Expense",isexpenseReport:!0,projectId:null,categoryId:null,TripId:null,approve:[],approverId:null,StatusId:null,attrs:[{key:"today",bar:!0,dates:new Date}],reportPath:null,parameter:[]}},created:function(){this.GetProjectByCompanyIdAndUserId(),this.GetStatusList("Expense","en"),this.UserType=this.GetUserInfo.UserType,this.ExpenseGetApproverListing(),this.GetAllTripsByCompanyId()},methods:{onSearch:function(){var e=this,t={reportName:"expensereport",moduleName:"Expense",projectIds:e.projectId.toString(),categoryIds:e.categoryId.toString(),status:e.StatusId.toString(),trips:e.TripId.toString(),dateFrom:e.dtFrom,dateTo:e.$options.filters.formatDate(e.dtTO),expenseOverLimit:e.isexpenseOverLimit},a=JSON.stringify(t);n["a"].ReportMain(a).then(t=>{e.reportPath=t.data.reportpath,e.parameter=t.data.parameters})},GetProjectByCompanyIdAndUserId(){var e=this;n["a"].GetProjectByCompanyIdAndUserId().then((function(t){e.projects=t.data.map(e=>({value:e.projectId,label:e.projectName})),console.log(e.projects),e.GetAllCategoriesByCompanyId()}))},GetAllCategoriesByCompanyId(){var e=this;n["a"].GetAllCategoriesByCompanyId().then((function(t){e.categories=t.data.map(e=>({value:e.expensE_CATEGORY_ID,label:e.categorY_NAME}))}))},ExpenseGetApproverListing:function(){let e={};var t=this;e["IsEncrptedId"]="",e["moduleName"]="Project",n["a"].ExpenseGetUserListing(e).then((function(e){t.approve=e.data.map(e=>({value:e.USER_ID,label:e.USERNAME}))}))},GetStatusList:function(e,t){var a=this,s="langCode="+t+"&statusType="+e+"&hasglobal=true";n["a"].GetStatusList(s).then((function(e){a.status=e.data.map(e=>({value:e.STATUS_ID,label:e.STATUS}))}))},GetAllTripsByCompanyId(){var e=this;n["a"].GettTripListingddl().then((function(t){e.trips=t.data.map(e=>({value:e.TRIP_ID,label:e.TRIP_NAME}))}))}}},_=g,b=Object(p["a"])(_,v,C,!1,null,null,null),x=b.exports,E={components:{leftsearch:h["a"],ReportViewer:m,ExpenseReport:x},data:function(){return{activeKey:1,HeaderText:"Expense Reports",categories:[],projects:[],SearchFields:l.leftsearchSchema,ModuleName:"Expense",dtFrom:"",dtTO:"",isexpenseOverLimit:!0,projectId:null,categoryId:null,attrs:[{key:"today",bar:!0,dates:new Date}],reportPath:null,parameter:[]}},created:function(){console.log(l),console.log(this.SearchFields),this.GetProjectByCompanyIdAndUserId()},methods:{SetActiveKey:function(e){this.activeKey=e},onSearch:function(){var e=this,t={reportName:"expenseoverlimit",moduleName:"Expense",projectIds:e.projectId.toString(),categoryIds:e.categoryId.toString(),dateFrom:e.dtFrom,dateTo:e.$options.filters.formatDate(e.dtTO),expenseOverLimit:e.isexpenseOverLimit},a=JSON.stringify(t);n["a"].ReportMain(a).then(t=>{e.reportPath=t.data.reportpath,e.parameter=t.data.parameters})},onClear:function(){$("#dvMainReportPanel").css("display","none"),$("#Project").multiselect("uncheckAll"),$("#Category").multiselect("uncheckAll"),$("#dtFrom").val(""),$("#dtTo").val(""),$("#Projects").val(""),$("#Categorys").val(""),$("#iReport").attr("src",""),$("#chkoverlimit").removeAttr("checked")},GetProjectByCompanyIdAndUserId(){var e=this;n["a"].GetProjectByCompanyIdAndUserId().then((function(t){e.projects=t.data.map(e=>({value:e.projectId,label:e.projectName})),console.log(e.projects),e.GetAllCategoriesByCompanyId()}))},GetAllCategoriesByCompanyId(){var e=this;n["a"].GetAllCategoriesByCompanyId().then((function(t){e.categories=t.data.map(e=>({value:e.expensE_CATEGORY_ID,label:e.categorY_NAME}))}))},showCheckboxes(){var e=document.getElementById("checkboxes");expanded?(e.style.display="none",expanded=!1):(e.style.display="block",expanded=!0)}}},y=E,S=Object(p["a"])(y,s,i,!1,null,null,null);t["default"]=S.exports},"65cd":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("TgList",{directives:[{name:"show",rawName:"v-show",value:e.IsExpenseListView,expression:"IsExpenseListView"}],attrs:{listType:["List","Card"],IsShowAction:"true",ModuleName:"Expenses",SubModuleCode:"Expenses",IdentityColumn:"expense_id",HeaderText:e.$t("Expense"),ListData:e.ExpenseData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchData,SortExp:e.SortExp,SortBy:e.SortBy,CurrentPageNumber:e.PageNumber},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["status_id"==a.column.COLUMN_NAME?[t("a",{staticClass:"inactive-disabled"},["Active"!=a.row.status_id&&"ApprovalPending"!=a.row.status_id?t("span",{class:e.getStatusClassList(a.row.status_id,"status_id")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")]):e._e(),"ApprovalPending"==a.row.status_id?t("span",{class:e.getStatusClassList(a.row.status_id,"status_id")},[e._v(" "+e._s(e.$t("ApprovalPending"))+" ")]):e._e(),"Active"==a.row.status_id?t("span",{class:e.getStatusClassList(a.row.status_id,"status_id")},[e._v(" "+e._s(e.$t("Draft"))+" ")]):e._e()])]:e._e(),"expense_amount"==a.column.COLUMN_NAME?[e._v(" "+e._s(e.convertDecimalValueInFormat(a.row.expense_amount)+" "+a.row.Expense_amount_iso_code)+" ")]:e._e(),"CONVERSION_AMOUNT"==a.column.COLUMN_NAME?[e._v(" "+e._s(e.convertDecimalValueInFormat(a.row.CONVERSION_AMOUNT)+" "+a.row.convertion_amount_iso_code)+" ")]:e._e()]}},{key:"customcard",fn:function({data:a}){return[t("div",{staticClass:"card-box expense-card text-center pb-2",class:e.getStatusClassCard(a.row.status_id)},[t("div",{staticClass:"expense-card-header"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"chkItems custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",disabled:e.DisableInputBox(a.row.status_id),id:"chk_11"},domProps:{value:a.row.expense_id}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_11"}})]),t("span",{staticClass:"expense-icon"},[t("i",{staticClass:"fa fa-file-text-o"})]),t("a",{staticClass:"text-truncate expense-title",staticStyle:{cursor:"default"},attrs:{title:"",value:a.row.expense_id,"data-toggle-tooltip":"tooltip","data-original-title":"gfhghgfh"}},[e._v(e._s(a.row.expense_title))])]),t("div",{staticClass:"card-detail-main"},[t("div",{staticClass:"expense-project-date"},[t("span",[e._v(e._s(a.row.project_id))]),t("span",[e._v(e._s(a.row.expense_date))]),e._v(e._s(a.row.rownumber)+" ")])]),t("div",{staticClass:"expense-amount"},[t("div",{staticClass:"Task"},[t("span",{staticClass:"t-title"},[e._v(" "+e._s(e.convertDecimalValueInFormat(a.row.expense_amount)+" "+a.row.Expense_amount_iso_code))])])]),t("a",{class:{"read-more-content":!0,hide:1==e.ShowMoreFalse},attrs:{id:"a"+a.row.rownumber,href:"javascript:;"},on:{click:function(t){return e.ShowMore("showdiv"+a.row.rownumber)}}},[e._v(e._s(e.$t("More")))]),t("div",{class:{"read-more-content":!0,hide:0==e.ShowMoreFalse},attrs:{id:"showdiv"+a.row.rownumber}},[t("div",{staticClass:"expense-project-date border-top float-left"},[t("span",[t("strong",{staticClass:"w-100 d-block"},[e._v(e._s(e.$t("expense_category_id")))]),e._v(e._s(a.row.expense_category_id))]),t("span",[t("strong",{staticClass:"w-100 d-block"},[e._v(e._s(e.$t("trip_id")))]),e._v(e._s(a.row.trip_id))])]),t("div",{staticClass:"text-center",attrs:{id:"showdiv"+a.row.rownumber}},[t("span",{staticClass:"border-0"},[t("strong",{staticClass:"w-100 d-block"},[e._v(e._s(e.$t("OrignalConversionAmount")))]),e._v(e._s(e.convertDecimalValueInFormat(a.row.CONVERSION_AMOUNT)+" "+a.row.convertion_amount_iso_code))])]),t("a",{class:{"read-more-hide":!0,"":1==e.ShowMoreFalse},attrs:{id:"cardMoreDataLess",href:"javascript:;"},on:{click:function(t){return e.ShowLess("showdiv"+a.row.rownumber)}}},[e._v(e._s(e.$t("Less")))])]),e._v(" "),t("div",{staticClass:"verticle-action"},[t("em",{staticClass:"fa fa-ellipsis-v action_icon",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.openActionIcon(t)}}}),t("span",{staticClass:"action-list-box",staticStyle:{width:"240px",display:"none"}},[t("span",{staticClass:"list-actions fsm-list",staticStyle:{"padding-left":"0"},attrs:{id:"action-list"}},[t("a",{staticClass:"update actions-onclick",class:{disabled:"Active"!=a.row.status_id},attrs:{href:"/Expense/ManageExpense/"+a.row.expense_id+"/Yes/Expense/Expense"}},[t("em",{staticClass:"fa fa-pencil action-icon"}),t("span",{staticClass:"text"},[e._v(e._s(e.$t("Edit")))])]),t("a",{staticClass:"update actions-onclick",class:{disabled:0==a.row.filescount},attrs:{href:"javascript:;"},on:{click:function(t){return e.OpenFileModal(a.row)}}},[t("em",{staticClass:"fa fa-eye action-icon"}),t("span",{staticClass:"text"},[e._v(e._s(e.$t("ViewAttachedFile")))])]),t("a",{staticClass:"update actions-onclick",class:{disabled:0==a.row.commentscount},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.openAddNewEvent(a.row)}}},[t("em",{staticClass:"fa fa-comment action-icon"}),t("span",{staticClass:"text"},[e._v(e._s(e.$t("Comments")))])]),t("a",{staticClass:"actions-onclick",attrs:{href:"javascript:;"},on:{click:function(t){return e.SendForApproval(a.row)}}},[t("em",{staticClass:"fa fa-file text-warning action-icon"}),t("span",{staticClass:"text"},[e._v(e._s(e.$t("SendForApprovalTitle")))])]),t("em",{staticClass:"fa fa-times close close-action",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.closeActionIcon(t)}}})])])])])]}}])}),e.showFileModal?t("ExpenseAttachents",{attrs:{expenseid:e.expid,code:e.statuscode},on:{CloseExpenseAttachments:e.CloseExpenseAttachments}}):e._e(),e.showCommentModal?t("ExpenseComments",{attrs:{access:e.access,expenseid:e.expid,CommentHeader:e.CommentHeader,isSingleCommentforMultipleExpenses:e.isSingleCommentforMultipleExpenses,statuscode:e.statuscode,visibility:e.visibility},on:{CloseExpenseComments:e.CloseExpenseComments}}):e._e()],1)},i=[],n=(a("14d9"),a("2aeb")),o=a("9769");let l=[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add Expense",iconClass:"fa fa-plus",callbackfunction:"openaddExpense",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddExpense"},{title:"Send For Approval",iconClass:"fa fa-send",callbackfunction:"ExpensesSendForApproval",additionalClass:"",isdisabled:!0,isvisible:!0,id:"SendForApproval"},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0}],r=[{fieldName:"Project",fieldType:"ddl-check",fieldIcon:"fa-file",fieldSearchConditionName:["PRO.PROJECT_ID"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Status",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["Status.status_id"],isSearch:!1,value:"",listOptions:[]},{fieldName:"DATE",fieldType:"date-range",fieldIcon:"fa-calendar",fieldSearchConditionName:["expense_date|expense_date"],isSearch:!1,datePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:!1,maxDate:!1,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:!1,maxDate:!1,widgetPositioning:{horizontal:"right",vertical:"bottom"}},value:"",secondValue:"",listOptions:[]}],c=[{title:"Edit Expense",href:"/Expense/ManageExpense/{expense_id}/Yes/Expense/Expense",icon:"fa fa-pencil action-icon",additionalSpan:""},{title:"View Files",href:"javascript:void(0)",callbackfunction:"OpenFileModal",icon:"fa fa-eye text-primary action-icon",additionalSpan:""},{title:"Comments",callbackfunction:"openAddNewEvent",href:"javascript:void(0)",icon:"fa fa-comment",additionalSpan:""},{title:"Send For Approval",callbackfunction:"SendForApproval",href:"javascript:void(0)",icon:"fa fa-file  action-icon",additionalSpan:""}];function d(e,t,a){var s=e;let i={};i["moduleName"]=t,i["type"]=a,o["a"].GetDDLData(i).then((function(e){var t=e.data;if(null!=t)return"EXPENSE_PROJECT"==a?(s.leftSearchFields[0].listOptions=t.DATA,s.ExpenseProjectList=t.DATA,s.ExpenseProjectList):(s.leftSearchFields[1].listOptions=t.DATA,s.ExpenseStatusList=t.DATA,s.ExpenseStatusList)}))}var u={buttons:l,leftsearchSchema:r,listActions:c,bindleftCommonSearchdropdown:d},p=a("5333"),f=a("9d1d"),m={components:{ExpenseAttachents:p["a"],ExpenseComments:f["a"],TgList:n["a"]},data(){return{isSingleCommentforMultipleExpenses:null,CommentHeader:"",isLoading:!1,searchCondition:"",TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",Headers:null,StatusList:[],ExpenseData:null,cardViewData:[],listheaderbuttons:u.buttons,leftSearchFields:u.leftsearchSchema,noRecord:!1,CurrentPage:1,TotalPages:0,IsExpenseListView:!0,IsExpenseListViewHide:!1,IsExpenseCardView:!1,IsExpenseCardViewHide:!0,IsExpenseKanbanView:!1,IsExpenseKanbanViewHide:!0,listActions:u.listActions,showFileModal:!1,expid:"",statuscode:"",ExpenseStatusList:null,conditionForInstantSearch:"",showCommentModal:!1,showCommentModal:!1,StatusListForListing:[],widgets:[{icon:"fa fa-dollar",value:"12",name:"Total Expenses"},{icon:"fa fa-dollar",value:"7",name:"Approved Expenses"},{icon:"fa fa-clock-o",value:"5",name:"Approval Pending"},{icon:"fa fa-reply",value:"1",name:"Send for Correction"}],ShowMoreFalse:!1,visibility:0,access:1}},created:function(){var e=this;e.usertype=e.GetUserInfo.UserType,e.companyId=e.GetUserInfo.CompanyId,e.GetExpenseStatusList(),e.onStatusList(),e.FetchData(),e.getStatuslistForListing("Expense","en"),u.bindleftCommonSearchdropdown(e,"Expense","EXPENSE_PROJECT"),u.bindleftCommonSearchdropdown(e,"Expense","EXPENSE_STATUS")},updated:function(){this.BindActionButtonEvent(),this.SetScrolbar("dark-thick","","filterscroll_leftsearch")},methods:{openActionIcon(e){e.target.nextSibling.removeAttribute("style"),e.target.nextSibling.setAttribute("style","width:240px;"),e.target.nextSibling.style.display="block"},closeActionIcon(e){e.target.nextSibling.style.display="none"},getStatusClassList:function(e){var t="";switch(e){case"Active":t="px-2 text-center text-white d-block bg-info";break;case"Approved":t="px-2 text-center text-white d-block bg-success";break;case"Approval Pending":t="px-2 text-center text-white d-block bg-warning";break;case"Rejected":t="px-2 text-center text-white d-block bg-danger";break;case"Sent For Correction":t="px-2 text-center text-white d-block bg-orange";break;default:t=""}return t},getStatusClassCard:function(e){var t="";switch(e){case"Active":t="ex-blue-bg-light";break;case"Approved":t="ex-green-bg-light";break;case"ApprovalPending":t="ex-yellow-bg-light";break;case"Rejected":t="ex-red-bg-light";break;case"SentForCorrection":t="ex-orange-bg-light";break;case"Draft":t="ex-blue-bg-light";break;default:t=""}return t},DisableInputBox:function(e){var t="";switch(e){case"Approved":case"Active":case"ApprovalPending":case"Rejected":t="disbaled";break;case"SentForCorrection":case"Draft":t="disbaled";break;default:t=""}return t},updateURLParameter(e,t,a){var s="",i=e.split("?"),n=i[0],o=i[1],l="";if(o){i=o.split("&");for(var r=0;r<i.length;r++)i[r].split("=")[0]!=t&&(s+=l+i[r],l="&")}var c=l+""+t+"="+a;return n+"?"+s+c},ShowMore(e){$("#"+e).show(),$("#a"+e.split("v")[1]).hide()},ShowLess(e){$("#"+e).hide(),$("#a"+e.split("v")[1]).show()},FetchData:function(){var e=this;e.isLoading=!0;const t=this.getRequestParams(this.sortBy,this.sortExp,this.pageSize,this.pageNumber,this.isPaged,this.searchcondition);t.pageSize=e.PageSize,t.pageNumber=e.PageNumber,t.searchCondition=e.searchCondition,e.PageNumber?t.pageNumber=e.PageNumber:e.PageNumber=t.pageNumber=1,"undefined"!=typeof e.isPaged?t.isPaged=e.isPaged:e.isPaged=t.isPaged=1,t.isPaged=e.isPaged,t.sortBy=e.SortBy,t.sortExp=e.SortExp;var a="";e.isBlank(e.searchCondition)||(a+=e.searchCondition),e.isBlank(e.conditionForInstantSearch)||(a+=e.isBlank(e.searchCondition)?e.conditionForInstantSearch:" AND "+e.conditionForInstantSearch),""!=a&&(t.searchCondition=a),o["a"].ExpenseListing(t).then((function(t){e.isLoading=!1,null!=t.data?(e.Headers=t.data.schema,e.Headers.forEach(e=>{e.settings=null,"status_id"==e.COLUMN_NAME&&(e.settings={isInSlot:!0,isForTag:!0}),"expense_amount"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"CONVERSION_AMOUNT"==e.COLUMN_NAME&&(e.DATA_TYPE="string",e.settings={isInSlot:!0})}),t.data.data.length>0?(e.ExpenseData=[],e.ExpenseData=t.data.data,e.cardViewData=e.ExpenseData,e.TotalRecords=t.data.data[0].total_records,0==t.data.total_expenses_widget.length?e.TotalExpenseWidget=0:e.widgets[0].value=e.convertDecimalValueInFormat(t.data.total_expenses_widget[0]),0==t.data.approved_expense_widget.length?e.ApprovedExpenseWidget=0:e.widgets[1].value=e.convertDecimalValueInFormat(t.data.approved_expense_widget[0]),0==t.data.approval_pending_widget.length?e.PendingExpenseWidget=0:e.widgets[2].value=e.convertDecimalValueInFormat(t.data.approval_pending_widget[0]),0==t.data.send_for_correction_widget.length?e.SendForCorrectionWidget=0:e.widgets[3].value=e.convertDecimalValueInFormat(t.data.send_for_correction_widget[0]),$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteItem']").removeClass("enable").addClass("disabled"),$("[id^='aCommanApproval']").removeClass("enable").addClass("disabled"),$(".close-action_cv").parent().parent(".action-list-box").animate({width:"0px"},200),e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1):(e.noRecord=!0,e.ExpenseData=[],e.TotalRecords=0)):(e.noRecord=!0,e.ExpenseData=[],e.Headers=[],e.TotalRecords=0),setTimeout((function(){e.CheckBoxBootstrap()}),100),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},getStatuslistForListing:function(e,t){var a=this,s="langCode="+t+"&statusType="+e+"&hasglobal=true";o["a"].statusdropdown(s).then((function(e){if("Success"==e.data.status){var t=e.data.result;a.StatusListForListing=t.data}}))},getRequestParams:function(e,t,a,s,i,n){let o={};return s&&(o["pageNumber"]=s),n&&(o["searchcondition"]=n),i&&(o["isPaged"]=i),e&&(o["sortBy"]=e),t&&(o["sortExp"]=t),a&&(o["pageSize"]=a),o},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(s=>{let i={...s};switch(i.title){case"Edit Expense":i.isVisible="ACT"==e.status_code||"EXP_SEND_FOR_CORRECTION"==e.status_code;break;case"View Files":i.isVisible=0!=e.filescount;break;case"Comments":i.isVisible=0!=e.commentscount||("CA"==t.usertype||"PM"==t.usertype||"NU"==t.usertype)&&"ACT"!=e.status_code;break;case"Send For Approval":i.isVisible="ACT"==e.status_code||"EXP_SEND_FOR_CORRECTION"==e.status_code;break;default:i.isVisible=!0}a.push(i)}),a},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchData()},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},actionButtonClick:function(e,t,a,s){switch(e){case"Edit":break;case"OpenFileModal":this.OpenFileModal(t);break;case"openAddNewEvent":this.openAddNewEvent(t);break;case"SendForApproval":this.SendForApproval(t);break}},OpenFileModal:function(e){this.showFileModal=!0,this.expid=e.expense_id,this.statuscode=e.status_code},CloseExpenseAttachments:function(){this.showFileModal=!1},sortdata:function(e){var t="sort tb_headerSortDown";this.SortBy=e,e===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",t="sort tb_headerSortUp"):(this.SortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),$("#"+e+"  span:first-child").attr("class",t)},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"openaddExpense":this.openaddExpense();break;case"setTourGuideSteps":this.setTourGuideSteps(0);break;case"ExpensesSendForApproval":this.CommonApproval();break;case"commonDeleteData":this.commonDeleteData();break}},openaddExpense:function(){this.$router.push({name:"Manage Expense",path:"/Expense/ManageExpense",params:{id:"0",isEdit:"No",moduleName:"Expense",subModuleCode:"Expense"}})},changeDataView:function(e){var t=this;if("Card"==e&&(t.IsExpenseListView=!1,t.IsExpenseListViewHide=!0,t.IsExpenseCardView=!0,t.IsExpenseCardViewHide=!1,t.IsExpenseKanbanView=!1,t.IsExpenseKanbanViewHide=!0,t.FetchData(),setTimeout((function(){$(".listView").attr("data-original-title","List View")}),100)),"List"==e&&(t.IsExpenseCardView=!1,t.IsExpenseCardViewHide=!0,t.IsExpenseListView=!0,t.IsExpenseListViewHide=!1,t.IsExpenseKanbanView=!1,t.IsExpenseKanbanViewHide=!0,t.FetchData(),setTimeout((function(){$(".cardView").attr("data-original-title","Card View")}),100)),"kanban"==e&&(t.IsExpenseKanbanView=!0,t.IsExpenseKanbanViewHide=!1,t.IsExpenseCardView=!1,t.IsExpenseCardViewHide=!0,t.IsExpenseListView=!1,t.IsExpenseListViewHide=!0,t.kanbanViewData=[],t.PageNumber=1,$("#hdfStartIndex").val(1),$("#hdfEndIndex").val(10),t.FetchDataKanban(e),setTimeout((function(){$(".cardView").attr("data-original-title","Card View"),$(".listView").attr("data-original-title","List View")}),100)),history.pushState){var a=location.href,s=t.updateURLParameter(a,"type",e);window.history.pushState("","",s)}setTimeout((function(){t.CheckBoxBootstrap()}),500)},FetchDataKanban:function(e){var t=this,a="pagesize="+this.PageSize+"&pagenumber="+this.PageNumber+"&sortBy="+this.SortBy+"&sortExp="+this.SortExp,s="";this.isBlank(this.searchCondition)||(a=a+"&searchCondition="+this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(s+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=s&&(a=a+"&searchCondition="+s),o["a"].ExpenseKanbanListing(a).then((function(e){null!=e.data?("undefined"!=typeof e.data.data&&(t.TotalRecords=e.data.total_records[0],this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),t.CurrentPage=this.PageNumber,0==e.data.approved_expense.length?t.ApprovedExpense=0:t.ApprovedExpense=e.data.approved_expense[0],0==e.data.pending_expense.length?t.PendingExpense=0:t.PendingExpense=e.data.pending_expense[0],0==e.data.active_expense.length?t.ActiveExpense=0:t.ActiveExpense=e.data.active_expense[0],0==e.data.send_for_correction.length?t.SendForCorrectionExpense=0:t.SendForCorrectionExpense=e.data.send_for_correction[0],0==e.data.rejected_expense.length?t.RejectedExpense=0:t.RejectedExpense=e.data.rejected_expense[0],0==e.data.total_expenses_widget.length?t.TotalExpenseWidget=0:t.TotalExpenseWidget=e.data.total_expenses_widget[0],0==e.data.approved_expense_widget.length?t.ApprovedExpenseWidget=0:t.ApprovedExpenseWidget=e.data.approved_expense_widget[0],0==e.data.approval_pending_widget.length?t.PendingExpenseWidget=0:t.PendingExpenseWidget=e.data.approval_pending_widget[0],0==e.data.send_for_correction_widget.length?t.SendForCorrectionWidget=0:t.SendForCorrectionWidget=e.data.send_for_correction_widget[0]),$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteItem']").removeClass("enable").addClass("disabled"),$("[id^='aCommanApproval']").removeClass("enable").addClass("disabled")):(t.ApprovedExpense=0,t.PendingExpense=0,t.SendForCorrectionExpense=0,t.RejectedExpense=0),t.MaxCount=Math.max(t.ApprovedExpense,t.PendingExpense,t.SendForCorrectionExpense,t.RejectedExpense),setTimeout((function(){ScrollKanbanView()}),500),null!=e.data&&e.data.data.length>0?(t.Headers=e.data.schema,"undefined"!=typeof e.data.data?(t.ExpenseData=e.data.data,parseInt($("#hdfStartIndex").val(),10)>1?t.kanbanViewData.push.apply(t.kanbanViewData,t.ExpenseData):t.kanbanViewData=t.ExpenseData,setTimeout("CheckBoxBootstrap()",100),setTimeout("ResponsiveDataTable('tablelistingdata')",500),t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,hideLoader()):(t.ExpenseData=[],t.noRecord=!0,t.kanbanViewData=[],t.TotalRecords=0,hideLoader())):(t.TotalRecords<=0&&(t.ExpenseData=[]),t.kanbanViewData=[],t.Headers=e.data.schema,hideLoader())}))},commonDeleteData:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Expenses"),(function(){var e={ids:a,moduleName:"Expenses",subModuleCode:"EM_EXPENSE"},s=JSON.stringify(e);o["a"].CommonDeleteData(s).then((function(e){"Success"==e.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteItem']").removeClass("enable").addClass("disabled"),$("[id^='aCommanApproval']").removeClass("enable").addClass("disabled"),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Expense")]),"Success",!0,t.$t("Alert")),t.PageNumber=parseInt(t.PageNumber)-1,t.PageNumber<0&&(t.PageNumber=1),t.FetchData()):t.ShowAlert(t.$t("DeletedError",[t.$t("Expense")]),"failure",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("Selectanyrecordtodelete"),"warning",!0,t.$t("Alert"))},CommonApproval:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0&&t.confirmR(t.$t("ConfirmApproval"),!0,"Confirm",(function(){var e="ExpenseId="+a;o["a"].SendForApproval(e).then((function(e){200==e.status&&t.FetchData(),t.isLoading=!1}))}))},SendForApproval:function(e){var t=this;t.confirmR(t.$t("ConfirmApproval"),!0,"Confirm",(function(){var a="ExpenseId="+e.expense_id;o["a"].SendForApproval(a).then((function(e){200==e.status&&t.FetchData()}))}))},openAddNewEvent:function(e){this.CommentHeader="Comment",this.isSingleCommentforMultipleExpenses=0,this.showCommentModal=!0,this.expid=e.expense_id,this.statuscode=e.status_id,this.visibility=1,this.access=0},CloseExpenseComments:function(){this.showCommentModal=!1},GetExpenseStatusList:function(){var e=this,t="moduleName=Expense&type=EXPENSE_STATUS";o["a"].getDDLData(t).then((function(t){var a=t.data;null!=a&&(e.leftSearchFields[1].listOptions=a.DATA,e.ExpenseStatusList=a.DATA)}))},onStatusList:function(){var e=this,t=`langCode=en&companyId=${this.companyId}&statusType=Expense&hasglobal=true`;o["a"].GetStatusDDLData(t).then((function(t){if("Success"==t.data.status){var a=t.data.result;e.StatusList=a.data,e.activeData=$.grep(e.StatusList,(function(e,t){return"ACT"==e.STATUS_CODE})),e.ApprovedData=$.grep(e.StatusList,(function(e,t){return"EXP_APPROVED"==e.STATUS_CODE}))}}))}}},h=m,v=(a("94e8"),a("2877")),C=Object(v["a"])(h,s,i,!1,null,null,null);t["default"]=C.exports},"6a63":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".dashbord-widget i{float:right;font-size:35px;color:#8b9197}.bg-orange{background-color:#fe6847}",""]),e.exports=t},"75a3":function(e,t,a){"use strict";a("89e5")},"78a2":function(e,t,a){var s=a("f38e");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("0e1e0cea",s,!0,{sourceMap:!1,shadowMode:!1})},"78cb":function(e,t,a){"use strict";a("8a8c")},8393:function(e,t,a){var s=a("1a19");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("1bb13c56",s,!0,{sourceMap:!1,shadowMode:!1})},"84cd":function(e,t,a){var s=a("04cb");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("c7808f90",s,!0,{sourceMap:!1,shadowMode:!1})},"84e8":function(e,t,a){"use strict";a("9445")},"89e5":function(e,t,a){var s=a("b1cf");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("06eb2006",s,!0,{sourceMap:!1,shadowMode:!1})},"8a8c":function(e,t,a){var s=a("5fd1");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("0d47050a",s,!0,{sourceMap:!1,shadowMode:!1})},"8ab2":function(e,t,a){"use strict";a("8393")},"92cd":function(e,t,a){"use strict";a("9a53")},9445:function(e,t,a){var s=a("4eb6");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("1c08e5e6",s,!0,{sourceMap:!1,shadowMode:!1})},"94e8":function(e,t,a){"use strict";a("20ad")},"9a53":function(e,t,a){var s=a("a006");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("1c7f09c0",s,!0,{sourceMap:!1,shadowMode:!1})},"9d1d":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(this.CommentHeader)+" ")]),t("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(t){return e.CloseExpenseComments()}}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[1==e.visibility?t("div",{class:{"d-none":1==e.showModelClientCompany}},[t("Form",{ref:"CommentForm",scopedSlots:e._u([{key:"default",fn:function({valid:a,errors:s}){return[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Title"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{attrs:{name:"Name",rules:{required:!0},label:"Title"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.CommentTitle,expression:"CommentTitle"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"Title",id:"Title",type:"text"},domProps:{value:e.CommentTitle},on:{input:function(t){t.target.composing||(e.CommentTitle=t.target.value)}}}),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1),t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Description"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{attrs:{name:"Description",rules:{required:!0},label:"Description"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Commentdesc,expression:"Commentdesc"}],class:{"form-control":!0,"is-invalid":a[0]},staticStyle:{"max-height":"300px!important","min-height":"100px!important"},attrs:{maxlength:"1000",id:"description",name:"Description"},domProps:{value:e.Commentdesc},on:{input:function(t){t.target.composing||(e.Commentdesc=t.target.value)}}}),e._v(" "),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1),1==e.access?t("div",{staticClass:"form-group d-none"},[t("label",[e._v("Visibility:"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("div",{staticClass:"form-control pl-0 border-0"},[t("Field",{attrs:{name:"ReimburseBy",rules:{required:!0},label:"Reimburse By"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("div",{staticClass:"form-check form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Public",value:"Public",name:"Public"},domProps:{checked:e._q(e.SelectedVale,"Public")},on:{change:function(t){e.SelectedVale="Public"}}}),t("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Client"}},[e._v(e._s(e.$t("Public")))])]),t("div",{staticClass:"form-check form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Private",value:"Private",name:"Company"},domProps:{checked:e._q(e.SelectedVale,"Private")},on:{change:function(t){e.SelectedVale="Private"}}}),t("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Company"}},[e._v(e._s(e.$t("Private")))])]),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1)]):e._e()]),t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"row flex-row-reverse"},[1==e.isSingleCommentforMultipleExpenses?t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-danger mr-2",attrs:{title:"Skip",href:"javascript:;"},on:{click:function(t){return e.Skip(a,s)}}},[t("span",[e._v(e._s(e.$t("Skip")))]),t("em",{staticClass:"fa fa-forward pl-2"})]),t("a",{staticClass:"btn btn-success",attrs:{title:"PostNewComment",href:"javascript:;"},on:{click:function(t){return e.APostNewComment(a,s)}}},[t("em",{staticClass:"fa fa-send pr-2"}),t("span",[e._v(e._s(e.$t("PostNewComment")))])])]):e._e(),0==e.isSingleCommentforMultipleExpenses?t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success",attrs:{id:"postcomment",title:"PostNewComment",href:"javascript:;"},on:{click:function(t){return e.PostNewComment(a,s)}}},[t("em",{staticClass:"fa fa-send pr-2"}),e._v(e._s(e.$t("PostNewComment")))])]):e._e(),t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("small",{staticClass:"text-danger mandatory"},[e._v(e._s(e.$t("MandatoryString")))])])])])])])]}}],null,!1,2250022809)})],1):e._e(),1==e.isSingleCommentforMultipleExpenses?t("div",[t("div",{staticClass:"col-lg-12"},[e.showModelClientCompany?t("div",{staticClass:"row"},[t("form",{staticClass:"w-100 col-12"},[t("div",{staticClass:"alert alert-warning mb-3"},[e._v(" "+e._s(e.$t("ExpenseEntryWillBeReimbursedBy"))+" ")]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("ReimburseBy"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("div",{staticClass:"form-control pl-0 border-0"},[t("Field",{attrs:{name:"ReimburseBy",rules:{required:!0},label:"Reimburse By"},scopedSlots:e._u([{key:"default",fn:function({field:a,errorMessage:s,meta:i}){return[t("div",{staticClass:"form-check form-check-inline"},[t("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Client",value:"Client",name:"Client"},domProps:{checked:e._q(e.SelectedVale,"Client")},on:{change:function(t){e.SelectedVale="Client"}}},"input",a,!1)),t("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Client"}},[e._v(e._s(e.$t("Client")))])]),t("div",{staticClass:"form-check form-check-inline"},[t("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Company",value:"Company",name:"Company"},domProps:{checked:e._q(e.SelectedVale,"Company")},on:{change:function(t){e.SelectedVale="Company"}}},"input",a,!1)),t("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Company"}},[e._v(e._s(e.$t("Company")))])]),e.errors[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(s))]):e._e()]}}],null,!1,2371503952)})],1)])]),t("div",{staticClass:"col-lg-12 text-right p-0"},[t("div",{staticClass:"search-btm-btn"},[t("a",{staticClass:"btn btn-success",attrs:{title:"submit",href:"javascript:;"},on:{click:e.SubmitExpenseApproval}},[t("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Submit")))])])])])]):e._e()])]):e._e(),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[0==e.isSingleCommentforMultipleExpenses?t("div",{staticClass:"listing"},[t("div",{staticClass:"w-100 activity-tab",attrs:{id:"Expenseaccordion"}},e._l(e.CommentExpenseData,(function(a,s){return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse",href:"#Expensecollapse"+s}},[t("div",{staticClass:"conversation-date heading-border"},[t("span",[t("em",{staticClass:"pr-1",attrs:{"aria-hidden":"true"}}),e._v(e._s(a.groupKey))])])])]),t("div",{class:{collapse:!0,show:0==s},attrs:{id:"Expensecollapse"+s}},e._l(a.groupData,(function(a,s){return t("div",{key:s,staticClass:"card-body"},[1==a.EXPENSE_ACCESS?t("div",{staticClass:"conversation-main"},[t("div",{staticClass:"conversation-time"},[t("span",[e._v(e._s(e.$options.filters.formatTime(a.CREATED_AT)))])]),t("div",{staticClass:"conversation-box-con"},[t("div",{staticClass:"conversation-box"},[t("div",{staticClass:"name-circle light-yellow"},[t("img",{staticClass:"img-circle avatar",attrs:{src:e.blobUrl,width:"51",height:"51",alt:"Image"}})]),t("div",{staticClass:"conversation-header addednote-ticket"},[t("span",[t("span",{staticClass:"sender-name"},[e._v(e._s(a.EXPENSE_COMMENT_TITLE))]),t("span",{staticClass:"sender-department",attrs:{title:"@item.EXPENSE_COMMENT_DESC"}},[e._v(" ("+e._s(a.EXPENSE_COMMENT_DESC)+")")])])]),t("div",{staticClass:"conversation-content"},[t("div",{staticClass:"col-12 p-0 notesdata"},[t("h6",{staticClass:"text-muted time"},[t("i",[t("b",[e._v(e._s(a.CREATED_BY))]),e._v(", "+e._s(e.$t("PostedOn"))+": "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.$options.filters.formatDateTime(a.CREATED_AT)))])])])])])])])]):e._e(),0==a.EXPENSE_ACCESS?t("div",{staticClass:"conversation-main"},[t("div",{staticClass:"conversation-time"},[t("span",[e._v(e._s(a.CREATED_AT))])]),t("div",{staticClass:"conversation-box-con"},[t("div",{staticClass:"conversation-box"},[t("div",{staticClass:"name-circle light-yellow"},[t("img",{staticClass:"img-circle avatar",attrs:{src:e.blobUrl,width:"51",height:"51",alt:"Image"}})]),t("div",{staticClass:"conversation-header addednote-ticket"},[t("span",[t("span",{staticClass:"sender-department"},[e._v(" "+e._s(a.EXPENSE_COMMENT_DESC))])])]),t("div",{staticClass:"conversation-content"},[t("div",{staticClass:"col-12 p-0 notesdata"},[t("h6",{staticClass:"text-muted time"},[t("i",[t("b",[e._v(e._s(a.CREATED_BY))]),e._v(", "+e._s(e.$t("PostedOn"))+": "),t("span",{staticClass:"text-danger"},[e._v(e._s(a.CREATED_AT))])])])])])])])]):e._e()])})),0)])})),0)]):e._e(),e.noRecordForTab&&0==e.isSingleCommentforMultipleExpenses?t("div",{staticClass:"text-center text-danger border p-3 mt-4"},[e._v(e._s(e.$t("NoRecordfound")))]):e._e()])])])])])])],1)},i=[],n=(a("14d9"),a("9769")),o={props:{expenseid:{type:Number,required:!0},CommentHeader:{type:String,required:!0},isSingleCommentforMultipleExpenses:{type:Number,required:!0},statuscode:{type:String,required:!0},visibility:{type:Number,required:!0},access:{type:Number,required:!0}},data:function(){return{isLoading:!1,CommentTitle:"",Commentdesc:"",Expense_Id:"",userid:"",usertype:"",CommentExpenseData:[],showModelClientCompany:!1,SelectedVale:"",objectPostString:"",noRecordForTab:!0,CommentListing:!0,SkipParam:!1,containerName:null,avatar:"",blobUrl:""}},created:function(){this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType,this.containerName=this.GetUserInfo.ContainerName,this.CommentList(),this.GetBlobUrl()},methods:{GetBlobUrl:function(){n["a"].GetBlobUrl().then(e=>{var t=e.data[0].CONFIG_DATA_VALUE;null==this.avatar?this.blobUrl="/Content/images/DefaultImages/uc_user_new.jpg":this.blobUrl=t+"/"+this.containerName+"/Upload/UserProfileImage/"+this.avatar})},Skip:function(){this.CommentListing=!1,this.showModelClientCompany=!0,this.CommentTitle="",this.Commentdesc="",this.SkipParam=!0},CloseExpenseComments:function(){this.$emit("CloseExpenseComments")},PostNewComment:function(e,t){var a=this;a.$refs.CommentForm.validate().then(e=>{if(e){var t={ExpenseCommentId:0,CommentTitle:a.CommentTitle,Commentdesc:a.Commentdesc,Expense_Id:a.expenseid,EXPENSE_ACCESS:1,StatusId:1001},s=JSON.stringify(t);n["a"].SaveComment(s).then((function(e){200==e.status&&(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Comments")]),"success",!0,a.$t("Alert")),a.noRecordForTab=!1,a.CommentList())}))}})},APostNewComment:function(){var e=this;e.CommentListing=!1,e.$refs.CommentForm.validate().then(t=>{t&&(e.showModelClientCompany=!0,"EXP_SEND_FOR_CORRECTION"==e.statuscode&&(e.showModelClientCompany=!1,e.noRecordForTab=!1,e.SubmitExpenseApproval()))})},CommentList:function(){var e=this;e.isLoading=!0;var t="id="+e.expenseid;n["a"].CommentsList(t).then((function(t){if(null!=t.data){e.CommentExpenseData=[];var a=t.data,s="";$.each(a,$.proxy((function(t,i){s=e.$options.filters.formatDate(i.CREATED_AT);var n=$.grep(e.CommentExpenseData,(function(e,t){return e.groupKey==s}));if(0==n.length){var o=$.grep(a,(function(t,a){return e.$options.filters.formatDate(t.CREATED_AT)==s}));if(o.length>0){var l={groupKey:s,groupData:o};e.CommentExpenseData.push(l),console.log("saini",e.CommentExpenseData),e.avatar=e.CommentExpenseData[0].groupData[0].avatar,e.noRecordForTab=!1}}}),this))}else e.noRecordForTab=!0,e.ExpenseData=[];e.ExpenseData=[],e.isLoading=!1}))},SubmitExpenseApproval:function(){var e=this;e.$refs.CommentForm.validate().then(t=>{1==e.SkipParam&&(t=!0),t&&e.confirmR(e.$t("ExpenseApprove"),!0,e.$t("Delete")+"  "+e.$t("ExpenseApproval"),(function(){var t=`ids=${e.expenseid}&statusCode=${e.statuscode}&approvalTypeId=2&CommentTitle=${e.CommentTitle}&Commentdesc=${e.Commentdesc}&commentAccess=1&isForciable=0&isOverridable=0&reimburseBy=${e.SelectedVale}`;n["a"].AddApproverStatusListing(t).then((function(t){200==t.status&&("EXP_APPROVED"==e.statuscode?(e.$emit("CloseExpenseComments"),e.$emit("fetchdata"),e.ShowAlert(e.$t("ExpenseApproveReject",[e.$t("Approve")]),"success",!0,e.$t("Alert"))):"EXP_REJECTED"==e.statuscode?(e.$emit("CloseExpenseComments"),e.$emit("fetchdata"),e.ShowAlert(e.$t("ExpenseApproveReject",[e.$t("Decline")]),"success",!0,e.$t("Alert"))):(e.$emit("CloseExpenseComments"),e.$emit("fetchdata"),e.ShowAlert(e.$t("ExpenseApproveSendForCorrection",[e.$t("SendForCorrection")]),"success",!0,e.$t("Alert"))))}))}))})}}},l=o,r=a("2877"),c=Object(r["a"])(l,s,i,!1,null,null,null);t["a"]=c.exports},"9fd5":function(e,t,a){"use strict";a("78a2")},a006:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".fsm-list a[data-v-519a4f08]{width:100%;text-align:left;padding:8px 10px;border-bottom:1px solid #ccc}.actions-onclick[data-v-519a4f08]{color:#303030;float:left;padding:3px 10px;line-height:16px;font-weight:400;transition:background-color .5s ease}.action-list-box-ddl a.actions-onclick i[data-v-519a4f08]{width:30px;text-align:center}.action-list-box-ddl a.actions-onclick.disabled i[data-v-519a4f08]{opacity:.5}.action-list-box .actions-onclick[data-v-519a4f08]{margin-top:5px}",""]),e.exports=t},b1a9:function(e,t,a){"use strict";a("ccd9")},b1cf:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".action-list-box[data-v-a3403c3c]{opacity:0;height:0;transition:opacity 1s}.is-visible[data-v-a3403c3c]{display:inline-block;overflow:hidden!important;height:46px}",""]),e.exports=t},b22b:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".field-label{display:none!important}.field.has-value:not(.no-label) .field-input{padding-top:0!important}",""]),e.exports=t},b879:function(e,t,a){"use strict";a("84cd")},ccd9:function(e,t,a){var s=a("148d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("6a98fea1",s,!0,{sourceMap:!1,shadowMode:!1})},f38e:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".action-list-box{opacity:0;height:0;transition:opacity 1s}.is-visible{display:inline-block!important;height:auto;overflow:hidden!important;height:46px}",""]),e.exports=t},f7f7:function(e,t,a){var s=a("b22b");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("1a922e12",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=Expense.js.map